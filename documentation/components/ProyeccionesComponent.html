<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>gacela-frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">gacela-frontend documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>ProyeccionesComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/componentes/opciones/proyecciones/proyecciones.component.ts</code>
</p>

    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Controlador para mostrar y generar un proyecto de equipo
a partir de una proyección de ventas y un archivo tipo MTC1R999</p>

    </p>



    <p class="comment">
        <h3>Example</h3>
    </p>
    <div class="io-description">
    </div>

<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>









            <tr>
                <td class="col-md-3">providers</td>
                <td class="col-md-9">
                                <code><a href="https://angular.io/api/common/DatePipe" target="_blank" >DatePipe</a></code>
                </td>
            </tr>


            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-proyecciones</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./proyecciones.component.css</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./proyecciones.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#calendario">calendario</a>
                            </li>
                            <li>
                                <a href="#cargando">cargando</a>
                            </li>
                            <li>
                                <a href="#cargandoFile">cargandoFile</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#dialog">dialog</a>
                            </li>
                            <li>
                                <a href="#file">file</a>
                            </li>
                            <li>
                                <a href="#fileCabMTC1R999">fileCabMTC1R999</a>
                            </li>
                            <li>
                                <a href="#files">files</a>
                            </li>
                            <li>
                                <a href="#forma">forma</a>
                            </li>
                            <li>
                                <a href="#generar">generar</a>
                            </li>
                            <li>
                                <a href="#lastEta">lastEta</a>
                            </li>
                            <li>
                                <a href="#linkReal">linkReal</a>
                            </li>
                            <li>
                                <a href="#naves">naves</a>
                            </li>
                            <li>
                                <a href="#navesNoRegistradas">navesNoRegistradas</a>
                            </li>
                            <li>
                                <a href="#proyeccionEquipo">proyeccionEquipo</a>
                            </li>
                            <li>
                                <a href="#proyVenta">proyVenta</a>
                            </li>
                            <li>
                                <a href="#ratioDevolucion">ratioDevolucion</a>
                            </li>
                            <li>
                                <a href="#resumen">resumen</a>
                            </li>
                            <li>
                                <a href="#rpoPlanes">rpoPlanes</a>
                            </li>
                            <li>
                                <a href="#rpoValidos">rpoValidos</a>
                            </li>
                            <li>
                                <a href="#servicios">servicios</a>
                            </li>
                            <li>
                                <a href="#to2SdRatio">to2SdRatio</a>
                            </li>
                            <li>
                                <a href="#to4SdRatio">to4SdRatio</a>
                            </li>
                            <li>
                                <a href="#to4ShRatio">to4ShRatio</a>
                            </li>
                            <li>
                                <a href="#today">today</a>
                            </li>
                            <li>
                                <a href="#token">token</a>
                            </li>
                            <li>
                                <a href="#urls">urls</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#actualizaTotales">actualizaTotales</a>
                            </li>
                            <li>
                                <a href="#addFormRpoPlan">addFormRpoPlan</a>
                            </li>
                            <li>
                                <a href="#addRpo">addRpo</a>
                            </li>
                            <li>
                                <a href="#ca2SdRpoValido">ca2SdRpoValido</a>
                            </li>
                            <li>
                                <a href="#ca4SdRpoValido">ca4SdRpoValido</a>
                            </li>
                            <li>
                                <a href="#ca4ShRpoValido">ca4ShRpoValido</a>
                            </li>
                            <li>
                                <a href="#calculaRetornoVacio">calculaRetornoVacio</a>
                            </li>
                            <li>
                                <a href="#cargarFile">cargarFile</a>
                            </li>
                            <li>
                                <a href="#delRPO">delRPO</a>
                            </li>
                            <li>
                                <a href="#etaValido">etaValido</a>
                            </li>
                            <li>
                                <a href="#generaProyeccionEquipos">generaProyeccionEquipos</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getNave">getNave</a>
                            </li>
                            <li>
                                <a href="#guardarProyeccion">guardarProyeccion</a>
                            </li>
                            <li>
                                <a href="#guardarRatio">guardarRatio</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#leerTxt">leerTxt</a>
                            </li>
                            <li>
                                <a href="#obtieneDatosIniciales">obtieneDatosIniciales</a>
                            </li>
                            <li>
                                <a href="#obtieneFileActivo">obtieneFileActivo</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#obtieneNavesNoRegistradas">obtieneNavesNoRegistradas</a>
                            </li>
                            <li>
                                <a href="#obtieneProyeccionVentaActiva">obtieneProyeccionVentaActiva</a>
                            </li>
                            <li>
                                <a href="#obtieneRatioDevolucion">obtieneRatioDevolucion</a>
                            </li>
                            <li>
                                <a href="#obtieneRpoPlan">obtieneRpoPlan</a>
                            </li>
                            <li>
                                <a href="#registraNave">registraNave</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#resumenToProyeccion">resumenToProyeccion</a>
                            </li>
                            <li>
                                <a href="#setNaveRPO">setNaveRPO</a>
                            </li>
                            <li>
                                <a href="#validaRpo">validaRpo</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(servicioService: <a href="../injectables/ServicioService.html">ServicioService</a>, paramService: <a href="../injectables/ParamsService.html">ParamsService</a>, navesService: <a href="../injectables/NavesService.html">NavesService</a>, dialog: MatDialog, proyeccionService: <a href="../injectables/ProyeccionService.html">ProyeccionService</a>, fileMTC1R999Service: <a href="../injectables/FileMTC1R999Service.html">FileMTC1R999Service</a>, datepipe: <a href="https://angular.io/api/common/DatePipe" target="_blank">DatePipe</a>, rpoPlanService: <a href="../injectables/RpoPlanService.html">RpoPlanService</a>, fileService: <a href="../injectables/FileService.html">FileService</a>, calendarioService: <a href="../injectables/CalendarioService.html">CalendarioService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="83" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:83</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>servicioService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ServicioService.html" target="_self" >ServicioService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>paramService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ParamsService.html" target="_self" >ParamsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>navesService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/NavesService.html" target="_self" >NavesService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>dialog</td>
                                                  
                                                        <td>
                                                                    <code>MatDialog</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>proyeccionService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ProyeccionService.html" target="_self" >ProyeccionService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>fileMTC1R999Service</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/FileMTC1R999Service.html" target="_self" >FileMTC1R999Service</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>datepipe</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/common/DatePipe" target="_blank" >DatePipe</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>rpoPlanService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/RpoPlanService.html" target="_self" >RpoPlanService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>fileService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/FileService.html" target="_self" >FileService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>calendarioService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/CalendarioService.html" target="_self" >CalendarioService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="actualizaTotales"></a>
                    <span class="name">
                        <b>
                            actualizaTotales
                        </b>
                        <a href="#actualizaTotales"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>actualizaTotales()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="652"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:652</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Método lanzado al cambiar los montos del formulario
Actualiza los totales de la proyección de equipos.
Este método debe llamarse cada vez que se ingresan nuevos valores al formulario.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addFormRpoPlan"></a>
                    <span class="name">
                        <b>
                            addFormRpoPlan
                        </b>
                        <a href="#addFormRpoPlan"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addFormRpoPlan()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="335"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:335</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Agrega un registro tipo RPO al formulario.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addRpo"></a>
                    <span class="name">
                        <b>
                            addRpo
                        </b>
                        <a href="#addRpo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addRpo()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="357"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:357</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Método lanzado al hacer click al boton &quot;+&quot;
para agregar un nuevo registro al RPO plan</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ca2SdRpoValido"></a>
                    <span class="name">
                        <b>
                            ca2SdRpoValido
                        </b>
                        <a href="#ca2SdRpoValido"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ca2SdRpoValido(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1087"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:1087</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Validación del monto 2SD RPO de forma particular,
en caso de no cumplir con la condición, el monto lo iguala a 0.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>index</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Índice para identificar el registro RPO</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ca4SdRpoValido"></a>
                    <span class="name">
                        <b>
                            ca4SdRpoValido
                        </b>
                        <a href="#ca4SdRpoValido"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ca4SdRpoValido(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1109"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:1109</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Validación del monto 4SD RPO de forma particular,
en caso de no cumplir con la condición, iguala el monto a 0.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>index</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Índice para identificar el registro RPO.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ca4ShRpoValido"></a>
                    <span class="name">
                        <b>
                            ca4ShRpoValido
                        </b>
                        <a href="#ca4ShRpoValido"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ca4ShRpoValido(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1131"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:1131</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Validación de 4SH RPO de forma particular,
en caso de no cumplir con la condición, iguala el monto a 0.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>index</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Índice para identificar el registro RPO.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculaRetornoVacio"></a>
                    <span class="name">
                        <b>
                            calculaRetornoVacio
                        </b>
                        <a href="#calculaRetornoVacio"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>calculaRetornoVacio(fechaIni: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date</a>, fechaFin: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="825"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:825</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Calcula el retorno vacío para la proyección de equipos.</p>
<ul>
<li>Obtiene los días hábiles para el cálculo.</li>
<li>Obtiene el último ETA de la proyección de equipos.</li>
<li>Obtiene el calendario desde la BD.</li>
<li>Calcula los valores a partir de los ratios de devolución.</li>
</ul>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>fechaIni</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Fecha de inicio para obtener el calendario.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>fechaFin</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Fecha final para obtener el calendario.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="cargarFile"></a>
                    <span class="name">
                        <b>
                            cargarFile
                        </b>
                        <a href="#cargarFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>cargarFile(fileList: FileList)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="462"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:462</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Método lanzado al hacer click en el boton &quot;cargar archivo&quot;</p>
<ul>
<li>Lee el archivo txt MTC1R999.</li>
<li>Guarda el archivo en base de datos.</li>
<li>Lanza el método &quot;obtieneFileActivo&quot; para traer los datos del archivo guardado</li>
</ul>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>fileList</td>
                                    <td>
                                            <code>FileList</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="delRPO"></a>
                    <span class="name">
                        <b>
                            delRPO
                        </b>
                        <a href="#delRPO"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>delRPO(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="399"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:399</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Método lanzado al dar click en eliminar registro RPO.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>index</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Índice del registro del RPO plan para, permite identificar el registro a eliminar.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="etaValido"></a>
                    <span class="name">
                        <b>
                            etaValido
                        </b>
                        <a href="#etaValido"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>etaValido(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="539"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:539</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Método lanzado al cambiar el ETA de los RPO existentes,
Llama a todas las validaciones RPO particulares.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>index</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Índice para identificar el registro RPO.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generaProyeccionEquipos"></a>
                    <span class="name">
                        <b>
                            generaProyeccionEquipos
                        </b>
                        <a href="#generaProyeccionEquipos"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>generaProyeccionEquipos()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="419"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:419</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Método lanzado al hacer click en el boton &quot;Generar Proyección&quot;.</p>
<ul>
<li>Trae el resumen de la proyección de la BD.</li>
<li>Agrega horas 0 a las fechas para corregir el problema de zona horaria.</li>
<li>Calcula fechas de inicio y fin para obtener el número de días hábiles.</li>
</ul>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNave"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getNave
                        </b>
                        <a href="#getNave"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getNave()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1007"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:1007</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Consulta y permite seleccionar una nave a partir del maestro de naves de la BD.
Llama una ventana dialog que muestra el maestro de naves.</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        <p>El código de la nave seleccionada.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="guardarProyeccion"></a>
                    <span class="name">
                        <b>
                            guardarProyeccion
                        </b>
                        <a href="#guardarProyeccion"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>guardarProyeccion()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="578"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:578</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Método lanzado al hacer click en el boton &quot;Exportar&quot;.
Exporta la proyección a excel.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="guardarRatio"></a>
                    <span class="name">
                        <b>
                            guardarRatio
                        </b>
                        <a href="#guardarRatio"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>guardarRatio()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="550"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:550</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Método lanzado al hacer click al botón &quot;Guardar Ratio&quot;.
Guarda el ratio de devolución (Solo los lunes) en BD</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="leerTxt"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            leerTxt
                        </b>
                        <a href="#leerTxt"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>leerTxt(txt: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="863"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:863</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Lee el archivo txt cargado. Debe cumplir:</p>
<ul>
<li>Debe tener extensión txt.</li>
<li>Debe ser del tipo MTC1R999, extraído del SOL</li>
</ul>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>txt</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Archivo txt cargado a Gacela.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        <p>El detalle del archivo cargado.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="obtieneDatosIniciales"></a>
                    <span class="name">
                        <b>
                            obtieneDatosIniciales
                        </b>
                        <a href="#obtieneDatosIniciales"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>obtieneDatosIniciales()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="191"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:191</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Obtiene los datos requeridos para las proyecciones.</p>
<ul>
<li>Servicios a la variable &quot;servicios&quot;.</li>
<li>Naves a la variable &quot;naves&quot;.</li>
</ul>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="obtieneFileActivo"></a>
                    <span class="name">
                        <b>
                            obtieneFileActivo
                        </b>
                        <a href="#obtieneFileActivo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>obtieneFileActivo()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="242"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:242</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Obtiene el último file MTC1R999 guardado en la base de datos.</p>
<ul>
<li>Guarda los resultados en la variable &quot;fileCabMTC1R999&quot;.</li>
<li>Muestra las naves que existen en el archivo pero no estas registradas en la BD.</li>
</ul>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="obtieneNavesNoRegistradas"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            obtieneNavesNoRegistradas
                        </b>
                        <a href="#obtieneNavesNoRegistradas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>obtieneNavesNoRegistradas(detalle: <a href="../classes/FileDetMTC1R999.html">Array<FileDetMTC1R999></a>, naves: Array<Nave>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="982"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:982</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Obtiene el listado de naves que existen en el archivo pero no en la BD.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>detalle</td>
                                    <td>
                                                <code><a href="../classes/FileDetMTC1R999.html" target="_self" >Array&lt;FileDetMTC1R999&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Obtenido del archivo leido.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>naves</td>
                                    <td>
                                            <code>Array&lt;Nave&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Lista de Naves obtenidas de la BD.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>any[]</code>

                    </div>
                    <div class="io-description">
                        <p>Lista de naves no registradas en la BD.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="obtieneProyeccionVentaActiva"></a>
                    <span class="name">
                        <b>
                            obtieneProyeccionVentaActiva
                        </b>
                        <a href="#obtieneProyeccionVentaActiva"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>obtieneProyeccionVentaActiva()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="215"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:215</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Obtiene la proyección de ventas activa.
El resultado lo almacena en la variable &quot;proyVenta&quot;</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="obtieneRatioDevolucion"></a>
                    <span class="name">
                        <b>
                            obtieneRatioDevolucion
                        </b>
                        <a href="#obtieneRatioDevolucion"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>obtieneRatioDevolucion()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="271"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:271</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Obtiene los ratios de devolución desde la base de datos.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="obtieneRpoPlan"></a>
                    <span class="name">
                        <b>
                            obtieneRpoPlan
                        </b>
                        <a href="#obtieneRpoPlan"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>obtieneRpoPlan()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="303"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:303</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Obtiene el plan RPO desde la BD:</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="registraNave"></a>
                    <span class="name">
                        <b>
                            registraNave
                        </b>
                        <a href="#registraNave"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>registraNave(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="512"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:512</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Método lanzado al dar click al boton &quot;agregar&quot;
referente a las naves no registradas en BD
y actualiza el listado de naves y la lista de naves no registradas en BD.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>index</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Es el índice del listado de la snaves no registradas en BD</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resumenToProyeccion"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            resumenToProyeccion
                        </b>
                        <a href="#resumenToProyeccion"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>resumenToProyeccion(resumen: any[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="690"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:690</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Genera la proyección de equipos a partir del resumen obtenido desde la BD.</p>
<ul>
<li>Obtiene el detalle de la proyección ordenado por ETA</li>
<li>Calcula totales iniciales de la proyección de equipos</li>
</ul>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>resumen</td>
                                    <td>
                                            <code>any[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Resumen obtenido desde la BD</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/ProyeccionEquipoCab.html" target="_self" >ProyeccionEquipoCab</a></code>

                    </div>
                    <div class="io-description">
                        <p>Proyección generada a partir del resumen.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setNaveRPO"></a>
                    <span class="name">
                        <b>
                            setNaveRPO
                        </b>
                        <a href="#setNaveRPO"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setNaveRPO(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="381"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:381</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Método lanzado al dar click al boton Editar nave del RPO plan.
Permite modificar la nave seleccionada en un RPO plan.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>index</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validaRpo"></a>
                    <span class="name">
                        <b>
                            validaRpo
                        </b>
                        <a href="#validaRpo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>validaRpo(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1039"
                            class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:1039</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Validación de los RPO en conjunto, valida a nivel de registro (3 montos al mismo tiempo):</p>
<ul>
<li>Valida que el ETA no sea mayor que 3 días.</li>
<li>si los montos son negativos, el ETA debe ser igual a hoy.</li>
</ul>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>index</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Índice para identificar el registro del RPO</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="calendario"></a>
                        <span class="name">
                            <b>
                            calendario</b>
                            <a href="#calendario"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>any[]</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="66" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:66</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="cargando"></a>
                        <span class="name">
                            <b>
                            cargando</b>
                            <a href="#cargando"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="76" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:76</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="cargandoFile"></a>
                        <span class="name">
                            <b>
                            cargandoFile</b>
                            <a href="#cargandoFile"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="77" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:77</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="dialog"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            dialog</b>
                            <a href="#dialog"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>MatDialog</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="90" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:90</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="file"></a>
                        <span class="name">
                            <b>
                            file</b>
                            <a href="#file"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="53" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:53</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="fileCabMTC1R999"></a>
                        <span class="name">
                            <b>
                            fileCabMTC1R999</b>
                            <a href="#fileCabMTC1R999"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/FileCabMTC1R999.html" target="_self" >FileCabMTC1R999</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="57" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:57</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="files"></a>
                        <span class="name">
                            <b>
                            files</b>
                            <a href="#files"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>any[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="52" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:52</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="forma"></a>
                        <span class="name">
                            <b>
                            forma</b>
                            <a href="#forma"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/forms/FormGroup" target="_blank" >FormGroup</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="69" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:69</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="generar"></a>
                        <span class="name">
                            <b>
                            generar</b>
                            <a href="#generar"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="71" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:71</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="lastEta"></a>
                        <span class="name">
                            <b>
                            lastEta</b>
                            <a href="#lastEta"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="75" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:75</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="linkReal"></a>
                        <span class="name">
                            <b>
                            linkReal</b>
                            <a href="#linkReal"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>true</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="70" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:70</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="naves"></a>
                        <span class="name">
                            <b>
                            naves</b>
                            <a href="#naves"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>any[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="51" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:51</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="navesNoRegistradas"></a>
                        <span class="name">
                            <b>
                            navesNoRegistradas</b>
                            <a href="#navesNoRegistradas"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>any[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="72" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:72</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="proyeccionEquipo"></a>
                        <span class="name">
                            <b>
                            proyeccionEquipo</b>
                            <a href="#proyeccionEquipo"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/ProyeccionEquipoCab.html" target="_self" >ProyeccionEquipoCab</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="63" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:63</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="proyVenta"></a>
                        <span class="name">
                            <b>
                            proyVenta</b>
                            <a href="#proyVenta"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="61" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:61</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="ratioDevolucion"></a>
                        <span class="name">
                            <b>
                            ratioDevolucion</b>
                            <a href="#ratioDevolucion"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="65" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:65</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="resumen"></a>
                        <span class="name">
                            <b>
                            resumen</b>
                            <a href="#resumen"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>any[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="62" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:62</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="rpoPlanes"></a>
                        <span class="name">
                            <b>
                            rpoPlanes</b>
                            <a href="#rpoPlanes"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/RpoPlan.html" target="_self" >RpoPlan[]</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="64" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:64</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="rpoValidos"></a>
                        <span class="name">
                            <b>
                            rpoValidos</b>
                            <a href="#rpoValidos"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>any[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="83" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:83</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="servicios"></a>
                        <span class="name">
                            <b>
                            servicios</b>
                            <a href="#servicios"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>any[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="50" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:50</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="to2SdRatio"></a>
                        <span class="name">
                            <b>
                            to2SdRatio</b>
                            <a href="#to2SdRatio"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="79" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:79</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="to4SdRatio"></a>
                        <span class="name">
                            <b>
                            to4SdRatio</b>
                            <a href="#to4SdRatio"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="80" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:80</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="to4ShRatio"></a>
                        <span class="name">
                            <b>
                            to4ShRatio</b>
                            <a href="#to4ShRatio"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="81" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:81</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="today"></a>
                        <span class="name">
                            <b>
                            today</b>
                            <a href="#today"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new Date((new Date()).getFullYear(), (new Date()).getMonth(), (new Date()).getDate())</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="74" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:74</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="token"></a>
                        <span class="name">
                            <b>
                            token</b>
                            <a href="#token"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="47" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:47</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="urls"></a>
                        <span class="name">
                            <b>
                            urls</b>
                            <a href="#urls"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">src/app/componentes/opciones/proyecciones/proyecciones.component.ts:46</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component } from &#x27;@angular/core&#x27;;
import { ServicioService } from &#x27;../../../servicios/servicio.service&#x27;;
import { ParamsService } from &#x27;../../../servicios/params.service&#x27;;
import { NavesService } from &#x27;../../../servicios/naves.service&#x27;;
import { MatDialog } from &#x27;@angular/material/dialog&#x27;;
import { FormGroup, FormControl, Validators, FormArray } from &#x27;@angular/forms&#x27;;
import Swal from &#x27;sweetalert2&#x27;;
import { ProyeccionService } from &#x27;src/app/servicios/proyeccion-venta.service&#x27;;
import { FileCabMTC1R999 } from &#x27;src/app/models/fileCabMTC1R999.model&#x27;;
import { FileDetMTC1R999 } from &#x27;src/app/models/fileDetMTC1R999.model&#x27;;
import { FileMTC1R999Service } from &#x27;../../../servicios/file-mtc1-r999.service&#x27;;
import { ProyeccionEquipoCab } from &#x27;../../../models/proyeccionEquipoCab.model&#x27;;
import { ProyeccionEquipoDet } from &#x27;src/app/models/proyeccionEquipoDet.model&#x27;;
import { FileService } from &#x27;../../../servicios/file.service&#x27;;
import { DialogListarNavesComponent } from &#x27;../maestros/naves/dialog-listar-naves/dialog-listar-naves.component&#x27;;
import { DatePipe } from &#x27;@angular/common&#x27;;
import { RpoPlan } from &#x27;../../../models/rpoPlan.model&#x27;;
import { RpoPlanService } from &#x27;../../../servicios/rpo-plan.service&#x27;;
import { CalendarioService } from &#x27;../../../servicios/calendario.service&#x27;;
import { DialogRegistrarNavesComponent } from &#x27;../maestros/naves/dialog-registrar-naves/dialog-registrar-naves.component&#x27;;
import { Nave } from &#x27;src/app/models/nave.model&#x27;;

//#endregion IMPORTACIONES

/**
 * Controlador para mostrar y generar un proyecto de equipo
 * a partir de una proyección de ventas y un archivo tipo MTC1R999
 * @version 1.0
 * @copyright wollcorp.com
 * @license Gacela-1.0
 */
@Component({
  selector: &#x27;app-proyecciones&#x27;,
  templateUrl: &#x27;./proyecciones.component.html&#x27;,
  styleUrls: [&#x27;./proyecciones.component.css&#x27;],
  providers: [DatePipe]
})

export class ProyeccionesComponent {

  //#region VARIABLES

  // VARIABLES PARA PARAMETROS PARA CONEXIÓN
  urls: any;
  token: string;

  // VARIABLES PARA RECIBIR DATOS REQUERIDOS
  servicios: any[] &#x3D; [];
  naves: any[] &#x3D; [];
  files: any[] &#x3D; [];
  file: any;


  // VARIABLES PARA LA LECTURA Y ORGANIZACION DEL ARCHIVO TXT
  fileCabMTC1R999: FileCabMTC1R999;


  // VARIABLES PARA LA PROYECCION
  proyVenta: any;
  resumen: any[] &#x3D; [];
  proyeccionEquipo: ProyeccionEquipoCab;
  rpoPlanes: RpoPlan[] &#x3D; [];
  ratioDevolucion: any &#x3D; {};
  calendario: any[];

  // VARIABLES PARA FUNCIONAMIENTO DEL PROGRAMA
  forma: FormGroup;
  linkReal &#x3D; true;
  generar &#x3D; false;
  navesNoRegistradas: any[] &#x3D; [];
  // archivoNuevo: boolean;
  today &#x3D; new Date((new Date()).getFullYear(), (new Date()).getMonth(), (new Date()).getDate());
  lastEta: Date;
  cargando &#x3D; false;
  cargandoFile &#x3D; false;

  to2SdRatio: number;
  to4SdRatio: number;
  to4ShRatio: number;

  rpoValidos: any[] &#x3D; [];

  //#endregion VARIABLES

  constructor(private servicioService: ServicioService,
              private paramService: ParamsService,
              private navesService: NavesService,
              public dialog: MatDialog,
              private proyeccionService: ProyeccionService,
              private fileMTC1R999Service: FileMTC1R999Service,
              private datepipe: DatePipe,
              private rpoPlanService: RpoPlanService,
              private fileService: FileService,
              private calendarioService: CalendarioService) {

    this.urls &#x3D; this.paramService.urls;
    this.token &#x3D; this.paramService.conexion.token;

    this.forma &#x3D; new FormGroup({

      &#x27;coProyEquipo&#x27;: new FormControl({value: &#x27;&#x27;, disabled: true}, Validators.required),
      &#x27;coProyVenta&#x27;: new FormControl({value: &#x27;&#x27;, disabled: true}, Validators.required),
      &#x27;coFile&#x27;: new FormControl({value: &#x27;&#x27;, disabled: true}, Validators.required),

      &#x27;tipo&#x27;: new FormControl({value: &#x27;DR&#x27;, disabled: false}, Validators.required),
      &#x27;feProyeccion&#x27;: new FormControl({value: new Date(), disabled: true}, Validators.required),
      &#x27;fgActi&#x27;: new FormControl({value: &#x27;A&#x27;, disabled: false}, Validators.required),
      &#x27;nroSem&#x27;: new FormControl({value: 0, disabled: true}, Validators.required),
      
      &#x27;stock2Sd&#x27;: new FormControl(0, [Validators.min(0), Validators.required]),
      &#x27;stock4Sd&#x27;: new FormControl(0, [Validators.min(0), Validators.required]),
      &#x27;stock4Sh&#x27;: new FormControl(0, [Validators.min(0), Validators.required]),
      &#x27;stock4Rh&#x27;: new FormControl(0, [Validators.min(0), Validators.required]),
      
      &#x27;detalles&#x27;: new FormArray([]),

      &#x27;to2SdNoFe&#x27;: new FormControl(0),
      &#x27;to2SdFe&#x27;: new FormControl(0),
      &#x27;to4SdNoFe&#x27;: new FormControl(0),
      &#x27;to4SdFe&#x27;: new FormControl(0),
      &#x27;to4ShNoFe&#x27;: new FormControl(0),
      &#x27;to4ShFe&#x27;: new FormControl(0),
      &#x27;to4RhNoFe&#x27;: new FormControl(0),
      &#x27;to4RhFe&#x27;: new FormControl(0),
      &#x27;to2SdNoFePick&#x27;: new FormControl(0),
      &#x27;to2SdFePick&#x27;: new FormControl(0),
      &#x27;to4SdNoFePick&#x27;: new FormControl(0),
      &#x27;to4SdFePick&#x27;: new FormControl(0),
      &#x27;to4ShNoFePick&#x27;: new FormControl(0),
      &#x27;to4ShFePick&#x27;: new FormControl(0),
      &#x27;to4RhNoFePick&#x27;: new FormControl(0),
      &#x27;to4RhFePick&#x27;: new FormControl(0),

      &#x27;to2SdBook&#x27;: new FormControl(0),
      &#x27;to4SdBook&#x27;: new FormControl(0),
      &#x27;to4ShBook&#x27;: new FormControl(0),
      &#x27;to4RhBook&#x27;: new FormControl(0),

      &#x27;to2SdPick&#x27;: new FormControl(0),
      &#x27;to4SdPick&#x27;: new FormControl(0),
      &#x27;to4ShPick&#x27;: new FormControl(0),
      &#x27;to4RhPick&#x27;: new FormControl(0),

      &#x27;ratioDevolucion&#x27;: new FormGroup({

        &#x27;ra2Sd&#x27;: new FormControl(0),
        &#x27;ra4Sd&#x27;: new FormControl(0),
        &#x27;ra4Sh&#x27;: new FormControl(0),
        &#x27;usCrea&#x27;: new FormControl(&#x27;&#x27;),
        &#x27;usModi&#x27;: new FormControl(&#x27;&#x27;),
        &#x27;feCrea&#x27;: new FormControl(new Date()),
        &#x27;feModi&#x27;: new FormControl(new Date()),
        &#x27;nroDiasHabilesMes&#x27;: new FormControl(0),
        &#x27;nroDiasHoyARetorno&#x27;: new FormControl(0),
        &#x27;fechaRatioStr&#x27;: new FormControl(&#x27;&#x27;),

      }),
      
      &#x27;rpoPlan&#x27;: new FormArray([]),

      &#x27;available2Sd&#x27;: new FormControl(0),
      &#x27;available4Sd&#x27;: new FormControl(0),
      &#x27;available4Sh&#x27;: new FormControl(0),
      &#x27;available4Rh&#x27;: new FormControl(0),

      &#x27;usCrea&#x27;: new FormControl({value: &#x27;&#x27;, disabled: true}, Validators.required),
      &#x27;usModi&#x27;: new FormControl({value: &#x27;&#x27;, disabled: true}, Validators.required),
      &#x27;feCrea&#x27;: new FormControl({value: &#x27;&#x27;, disabled: true}, Validators.required),
      &#x27;feModi&#x27;: new FormControl({value: &#x27;&#x27;, disabled: true}, Validators.required),

    });


    this.proyeccionEquipo &#x3D; new ProyeccionEquipoCab();
    this.forma.setValue(this.proyeccionEquipo);

    this.obtieneDatosIniciales();
    this.obtieneRatioDevolucion();

  }

  //#region CONEXION_BD

  /**
   * Obtiene los datos requeridos para las proyecciones.
   * - Servicios a la variable &quot;servicios&quot;.
   * - Naves a la variable &quot;naves&quot;.
   */
  obtieneDatosIniciales() {

    this.servicioService.getServicios(this.token, this.urls).subscribe((res1: any) &#x3D;&gt; {
      
      this.servicios &#x3D; res1.body.servicios;

      this.navesService.obtieneNaves(this.token, this.urls).subscribe((res2: any) &#x3D;&gt; {
      
        this.naves &#x3D; res2.body.naves;

        this.obtieneProyeccionVentaActiva();
        this.obtieneFileActivo();
  
      });

    });

  }


  /**
   * Obtiene la proyección de ventas activa.
   * El resultado lo almacena en la variable &quot;proyVenta&quot;
   */
  obtieneProyeccionVentaActiva() {

    this.proyeccionService.getProyecciones(this.token, this.urls)
      .subscribe((res1: any) &#x3D;&gt; {
  
        if(res1.body.proyecciones.filter(p1 &#x3D;&gt; p1.fgActi &#x3D;&#x3D;&#x3D; &#x27;A&#x27;).length &gt; 0) {
  
          let coProyAct &#x3D; res1.body.proyecciones.filter(p1 &#x3D;&gt; p1.fgActi &#x3D;&#x3D;&#x3D; &#x27;A&#x27;)[0].coProyeccion;
  
          this.proyeccionService.getProyeccion(this.token, this.urls, coProyAct)
            .subscribe((res2: any) &#x3D;&gt; {
  
              this.proyVenta &#x3D; res2.body.proyeccion;
              
              this.proyVenta.detalles.sort((a, b) &#x3D;&gt; new Date(a.eta).getTime() - new Date(b.eta).getTime());
              
            });
        }
      });

  }

  /**
   * Obtiene el último file MTC1R999 guardado en la base de datos.
   * - Guarda los resultados en la variable &quot;fileCabMTC1R999&quot;.
   * - Muestra las naves que existen en el archivo pero no estas registradas en la BD.
   */
  obtieneFileActivo() {

    this.fileMTC1R999Service.listarFiles(this.token, this.urls)
      .subscribe((res1: any) &#x3D;&gt; {
  
        this.files &#x3D; res1.body.filesCab;
  
        if(this.files.filter(f &#x3D;&gt; f.fgActi &#x3D;&#x3D;&#x3D; &#x27;A&#x27;).length &gt; 0) {
  
          let coFileAct &#x3D; this.files.filter(f &#x3D;&gt; f.fgActi &#x3D;&#x3D;&#x3D; &#x27;A&#x27;)[0].coFile;
          // this.archivoNuevo &#x3D; false;
          
          this.fileMTC1R999Service.getFile(this.token, this.urls, coFileAct)
            .subscribe((res2: any) &#x3D;&gt; {
              
              this.fileCabMTC1R999 &#x3D; res2.body.fileCab;

              this.navesNoRegistradas &#x3D; this.obtieneNavesNoRegistradas(this.fileCabMTC1R999.detalle, this.naves);
              
            });
        }

      });

  }

  /**
   * Obtiene los ratios de devolución desde la base de datos.
   */
  obtieneRatioDevolucion() {

    this.proyeccionService.obtieneRatio(this.token, this.urls)
      .subscribe((res: any) &#x3D;&gt; {

        /*
        this.proyeccionEquipo.ratioDevolucion &#x3D; res.body.ratio;
        this.proyeccionEquipo.ratioDevolucion.feCrea &#x3D; new Date(Number(res.body.ratio.feCrea.substr(0,4)), Number(res.body.ratio.feCrea.substr(5,2)) - 1, Number(res.body.ratio.feCrea.substr(8,2)));
        this.proyeccionEquipo.ratioDevolucion.feModi &#x3D; new Date(Number(res.body.ratio.feModi.substr(0,4)), Number(res.body.ratio.feModi.substr(5,2)) - 1, Number(res.body.ratio.feModi.substr(8,2)));
        this.proyeccionEquipo.ratioDevolucion.nroDiasHabilesMes &#x3D; 24;
        this.proyeccionEquipo.ratioDevolucion.nroDiasHoyARetorno &#x3D; 0;
        this.proyeccionEquipo.ratioDevolucion.fechaRatioStr &#x3D; &#x27;&#x27;;

        this.forma.controls.ratioDevolucion.setValue(this.proyeccionEquipo.ratioDevolucion);
        */

       this.ratioDevolucion &#x3D; res.body.ratio;
       this.ratioDevolucion.feCrea &#x3D; new Date(Number(res.body.ratio.feCrea.substr(0,4)), Number(res.body.ratio.feCrea.substr(5,2)) - 1, Number(res.body.ratio.feCrea.substr(8,2)));
       this.ratioDevolucion.feModi &#x3D; new Date(Number(res.body.ratio.feModi.substr(0,4)), Number(res.body.ratio.feModi.substr(5,2)) - 1, Number(res.body.ratio.feModi.substr(8,2)));
       this.ratioDevolucion.nroDiasHabilesMes &#x3D; 24;
       this.ratioDevolucion.nroDiasHoyARetorno &#x3D; 0;
       this.ratioDevolucion.fechaRatioStr &#x3D; &#x27;&#x27;;

       this.forma.controls.ratioDevolucion.setValue(this.ratioDevolucion);
  
      });
  
  }

  /**
   * Obtiene el plan RPO desde la BD:
   */
  obtieneRpoPlan() {

    this.rpoPlanService.obtieneRpoPlan(this.urls, this.token)
      .subscribe((res1: any) &#x3D;&gt; {
        
        this.rpoPlanes &#x3D; res1.body.planes.planes;

        this.forma.controls[&#x27;rpoPlan&#x27;] &#x3D; new FormArray([]);
        
        this.rpoPlanes.forEach(rp &#x3D;&gt; {

          this.addFormRpoPlan();

        });
        
        (this.forma.controls[&#x27;rpoPlan&#x27;] as FormArray).setValue(this.rpoPlanes);
        
      });

  }

  //#endregion CONEXION_BD





  //#region SET_FORM

  /**
   * Agrega un registro tipo RPO al formulario.
   */
  addFormRpoPlan() {

    (this.forma.controls[&#x27;rpoPlan&#x27;] as FormArray).push(
      new FormGroup({
        &#x27;coRpo&#x27;: new FormControl({value: null, disabled: true}, Validators.required),
        &#x27;alNaveRpo&#x27;: new FormControl({value: null, disabled: true}, Validators.required),
        &#x27;viajeRpo&#x27;: new FormControl(null, Validators.required),
        &#x27;etaRpo&#x27;: new FormControl(this.datepipe.transform(new Date(), &#x27;yyyy-MM-dd&#x27;), Validators.required),
        &#x27;ca2SdRpo&#x27;: new FormControl(0, Validators.required),
        &#x27;ca4SdRpo&#x27;: new FormControl(0, Validators.required),
        &#x27;ca4ShRpo&#x27;: new FormControl(0, Validators.required),
        &#x27;ca4RhRpo&#x27;: new FormControl(0, Validators.required),
        &#x27;fgActiRpo&#x27;: new FormControl(null)
      })
    );

  }

  /**
   * Método lanzado al hacer click al boton &quot;+&quot;
   * para agregar un nuevo registro al RPO plan
   */
  addRpo() {
    
    this.getNave()
      .then(res &#x3D;&gt; {

        let alNave &#x3D; res;

        this.addFormRpoPlan();

        let index &#x3D; (this.forma.controls[&#x27;rpoPlan&#x27;] as FormArray).length - 1;

        (this.forma.controls[&#x27;rpoPlan&#x27;] as FormArray).controls[index][&#x27;controls&#x27;][&#x27;alNaveRpo&#x27;].setValue(alNave);

        this.actualizaTotales();

      })
      .catch(err &#x3D;&gt; console.log(err));

  }

  /**
   * Método lanzado al dar click al boton Editar nave del RPO plan.
   * Permite modificar la nave seleccionada en un RPO plan.
   */
  setNaveRPO(index: number) {

    this.getNave()
      .then(res &#x3D;&gt; {
  
        let alNave &#x3D; res;
  
        (this.forma.controls[&#x27;rpoPlan&#x27;] as FormArray).controls[index][&#x27;controls&#x27;][&#x27;alNaveRpo&#x27;].setValue(alNave);
  
      })
      .catch(err &#x3D;&gt; console.log(err));

  }

  /**
   * Método lanzado al dar click en eliminar registro RPO.
   * @param index Índice del registro del RPO plan para, permite identificar el registro a eliminar.
   */
  delRPO(index: number) {

    (this.forma.controls[&#x27;rpoPlan&#x27;] as FormArray).removeAt(index);
    this.actualizaTotales();

  }

  //#endregion SET_FORM





  //#region EVENTOS
  /**
   * Método lanzado al hacer click en el boton &quot;Generar Proyección&quot;.
   * - Trae el resumen de la proyección de la BD.
   * - Agrega horas 0 a las fechas para corregir el problema de zona horaria.
   * - Calcula fechas de inicio y fin para obtener el número de días hábiles.
   */
  generaProyeccionEquipos() {

    this.generar &#x3D; true;

    this.proyeccionEquipo.rpoPlan &#x3D; new Array&lt;RpoPlan&gt;();
    this.proyeccionEquipo.feProyeccion &#x3D; new Date();
    this.proyeccionEquipo.coFile &#x3D; this.fileCabMTC1R999.coFile;
    this.proyeccionEquipo.coProyVenta &#x3D; this.proyVenta.coProyeccion;

    this.proyeccionService.generaResumenProyeccion(this.token, this.urls, this.fileCabMTC1R999.coFile)
      .subscribe((res: any) &#x3D;&gt; {

        this.resumen &#x3D; res.body.proyeccionGenerada;
        
        // DEFINIENDO FECHAS
        for (let p of this.resumen) {
    
          p.eta &#x3D; new Date(p.eta + &#x27;T00:00:00.000&#x27;);
    
        }

        this.proyeccionEquipo &#x3D; this.resumenToProyeccion(this.resumen);

        this.obtieneRatioDevolucion();
        this.obtieneRpoPlan();

        // CALCULA FECHAS OBTENER FERIADOS
        let fechaFin &#x3D; new Date(this.proyeccionEquipo.detalles[this.proyeccionEquipo.detalles.length-1].eta.getTime());
        let fechaIni &#x3D; new Date((new Date()).getFullYear(), (new Date()).getMonth(), (new Date()).getDate());
        fechaIni.setDate(fechaIni.getDate() - 7);

        this.calculaRetornoVacio(fechaIni, fechaFin);
    
      });

  }

  /**
   * Método lanzado al hacer click en el boton &quot;cargar archivo&quot;
   * - Lee el archivo txt MTC1R999.
   * - Guarda el archivo en base de datos.
   * - Lanza el método &quot;obtieneFileActivo&quot; para traer los datos del archivo guardado
   */
  cargarFile(fileList: FileList) {

    this.cargandoFile &#x3D; true;

    let file &#x3D; fileList[0];

    if (file) {
    
      this.fileCabMTC1R999.noFile &#x3D; file.name;
      this.fileCabMTC1R999.feCargaFile &#x3D; new Date();
      this.fileCabMTC1R999.fgActi &#x3D; &#x27;A&#x27;;

      let fileReader &#x3D; new FileReader();

      fileReader.onload &#x3D; (e) &#x3D;&gt; {

        this.fileCabMTC1R999.detalle &#x3D; this.leerTxt(fileReader.result);

        this.fileMTC1R999Service.registrarFile(this.token, this.urls, this.fileCabMTC1R999)
        .subscribe(
          (res: any) &#x3D;&gt; {

            this.obtieneFileActivo();
            this.cargandoFile &#x3D; false;
           
          },
 
          (err: any) &#x3D;&gt; {

            this.cargandoFile &#x3D; false;
            this.navesNoRegistradas &#x3D; [];
            this.fileCabMTC1R999 &#x3D; null;

          }
 
        );

      };

      fileReader.readAsText(file);
    }

  }

  /**
   * Método lanzado al dar click al boton &quot;agregar&quot;
   * referente a las naves no registradas en BD
   * y actualiza el listado de naves y la lista de naves no registradas en BD.
   * @param index Es el índice del listado de la snaves no registradas en BD
   */
  registraNave(index: number) {

    const dialogRef &#x3D; this.dialog.open(DialogRegistrarNavesComponent, {
      width: &#x27;1000px&#x27;,
      height: &#x27;800px&#x27;,
      data: {
        alNave: this.navesNoRegistradas[index]
      }
    });
  
    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {
      
      this.navesService.obtieneNaves(this.token, this.urls)
        .subscribe((res: any) &#x3D;&gt; {
          this.naves &#x3D; res.body.naves;
          this.navesNoRegistradas &#x3D; this.obtieneNavesNoRegistradas(this.fileCabMTC1R999.detalle, this.naves);
        });

    });

  }

  /**
   * Método lanzado al cambiar el ETA de los RPO existentes,
   * Llama a todas las validaciones RPO particulares.
   * @param index Índice para identificar el registro RPO.
   */
  etaValido(index: number) {
    
    this.ca2SdRpoValido(index);
    this.ca4SdRpoValido(index);
    this.ca4ShRpoValido(index);
  }
  
  /**
   * Método lanzado al hacer click al botón &quot;Guardar Ratio&quot;.
   * Guarda el ratio de devolución (Solo los lunes) en BD
   */
  guardarRatio() {

    let ratioDevolucion: any &#x3D; (this.forma.controls.ratioDevolucion as FormGroup).getRawValue();

    this.proyeccionService.registraRatio(this.token, this.urls, ratioDevolucion)
      .subscribe(res &#x3D;&gt; {

        this.cargando &#x3D; true;

        Swal.fire({
          icon: &#x27;success&#x27;,
          title: &#x27;Datos Procesados&#x27;,
          text: &#x27;Se guardaron los ratios de devolución&#x27;,
          showConfirmButton: false,
          timer: 2000,
          onClose: () &#x3D;&gt; {

            this.cargando &#x3D; false;
            
          }
      });
    });
  }

  /**
   * Método lanzado al hacer click en el boton &quot;Exportar&quot;.
   * Exporta la proyección a excel.
   */
  guardarProyeccion() {

    this.cargando &#x3D; true;
    
    this.proyeccionEquipo.stock2Sd &#x3D; this.forma.controls.stock2Sd.value;
    this.proyeccionEquipo.stock4Sd &#x3D; this.forma.controls.stock4Sd.value;
    this.proyeccionEquipo.stock4Sh &#x3D; this.forma.controls.stock4Sh.value;
    this.proyeccionEquipo.stock4Rh &#x3D; this.forma.controls.stock4Rh.value;

    this.rpoPlanes &#x3D; (this.forma.controls.rpoPlan as FormArray).getRawValue();

    this.rpoPlanes.forEach(rp &#x3D;&gt; {

      rp.etaRpo &#x3D; new Date(rp.etaRpo + &#x27;T00:00:00.000&#x27;);

    });

    let proyeccionEquipoExcel &#x3D; {

      proyEquipo: this.proyeccionEquipo,
      proyVenta: this.proyVenta,
      rpoPlanes: this.rpoPlanes

    };

    this.rpoPlanService.registraRpoPlan(this.urls, this.token, this.rpoPlanes)
      .subscribe(
        res &#x3D;&gt; {

          this.proyeccionService.generaExcel(this.token, this.urls, proyeccionEquipoExcel)
            .subscribe((res1: any) &#x3D;&gt; {

              let fileName &#x3D; res1.body.excelName;
      
              Swal.fire({
                icon: &#x27;success&#x27;,
                title: &#x27;Datos Procesados&#x27;,
                text: &#x27;Se procesó el archivo: &#x27; + fileName,
                showConfirmButton: false,
                timer: 2000,
                onBeforeOpen: () &#x3D;&gt; {
      
                  this.fileService.downloadFile(this.urls, fileName);
      
                },
                onClose: () &#x3D;&gt; {
      
                  this.cargando &#x3D; false;
      
                  this.fileService.deleteFile(this.urls, fileName, this.token)
                    .subscribe(del &#x3D;&gt; {
                      console.log(del);
                    });
                  
                }
              });
      
              
            });
        },

        err &#x3D;&gt; {
          console.log(err);
          this.cargando &#x3D; false;
        }
      );

  }

  /**
   * Método lanzado al cambiar los montos del formulario
   * Actualiza los totales de la proyección de equipos.
   * Este método debe llamarse cada vez que se ingresan nuevos valores al formulario.
   */
  actualizaTotales() {
    
    let to2SdRpo &#x3D; 0;
    let to4SdRpo &#x3D; 0;
    let to4ShRpo &#x3D; 0;
    let to4RhRpo &#x3D; 0;

    (this.forma.controls[&#x27;rpoPlan&#x27;] as FormArray).controls.forEach(detalle &#x3D;&gt; {
      
      to2SdRpo &#x3D; to2SdRpo + detalle[&#x27;controls&#x27;][&#x27;ca2SdRpo&#x27;].value;
      to4SdRpo &#x3D; to4SdRpo + detalle[&#x27;controls&#x27;][&#x27;ca4SdRpo&#x27;].value;
      to4ShRpo &#x3D; to4ShRpo + detalle[&#x27;controls&#x27;][&#x27;ca4ShRpo&#x27;].value;
      to4RhRpo &#x3D; to4RhRpo + detalle[&#x27;controls&#x27;][&#x27;ca4RhRpo&#x27;].value;

    });

    
    this.proyeccionEquipo.available2Sd &#x3D; this.to2SdRatio + Number(this.forma.controls.stock2Sd.value) + this.proyeccionEquipo.to2SdBook + this.proyeccionEquipo.to2SdPick + to2SdRpo;
    this.proyeccionEquipo.available4Sd &#x3D; this.to4SdRatio + Number(this.forma.controls.stock4Sd.value) + this.proyeccionEquipo.to4SdBook + this.proyeccionEquipo.to4SdPick + to4SdRpo;
    this.proyeccionEquipo.available4Sh &#x3D; this.to4ShRatio + Number(this.forma.controls.stock4Sh.value) + this.proyeccionEquipo.to4ShBook + this.proyeccionEquipo.to4ShPick + to4ShRpo;
    this.proyeccionEquipo.available4Rh &#x3D; Number(this.forma.controls.stock4Rh.value) + this.proyeccionEquipo.to4RhBook + this.proyeccionEquipo.to4RhPick + to4RhRpo;

  }

  //#endregion EVENTOS




  //#region UTILITARIOS

  /**
   * Genera la proyección de equipos a partir del resumen obtenido desde la BD.
   * - Obtiene el detalle de la proyección ordenado por ETA
   * - Calcula totales iniciales de la proyección de equipos
   * @param resumen Resumen obtenido desde la BD
   * @returns Proyección generada a partir del resumen.
   */
  private resumenToProyeccion(resumen: any[]): ProyeccionEquipoCab {

    let proyeccion &#x3D; new ProyeccionEquipoCab();

    resumen.forEach(p &#x3D;&gt; {
    
      if(proyeccion.detalles.filter(d &#x3D;&gt; d.alNave &#x3D;&#x3D;&#x3D; p.alNave &amp;&amp; d.viaje &#x3D;&#x3D;&#x3D; p.viaje &amp;&amp; d.eta.getTime() &#x3D;&#x3D;&#x3D; p.eta.getTime()).length &#x3D;&#x3D;&#x3D; 0) {

        let det &#x3D; new ProyeccionEquipoDet();

        det.idItem &#x3D; proyeccion.detalles.length + 1;
        det.alNave &#x3D; p.alNave;
        det.viaje &#x3D; p.viaje;
        det.eta &#x3D; p.eta;

        proyeccion.detalles.push(det);

      }
    });

    proyeccion.detalles.forEach(d &#x3D;&gt; {
    
      resumen.filter(f &#x3D;&gt; f.alNave &#x3D;&#x3D;&#x3D; d.alNave &amp;&amp; f.viaje &#x3D;&#x3D;&#x3D; d.viaje &amp;&amp; f.eta &#x3D;&#x3D;&#x3D; d.eta).forEach(p &#x3D;&gt; {

        if(p.tpe &#x3D;&#x3D;&#x3D; &#x27;2SD&#x27; &amp;&amp; p.fgFarEast &#x3D;&#x3D;&#x3D; &#x27;S&#x27;) {

          d.ca2SdFe &#x3D; p.qty;
          d.ca2SdFePick &#x3D; p.pick;

        } else if(p.tpe &#x3D;&#x3D;&#x3D; &#x27;2SD&#x27; &amp;&amp; p.fgFarEast &#x3D;&#x3D;&#x3D; &#x27;N&#x27;) {

          d.ca2SdNoFe &#x3D; p.qty;
          d.ca2SdNoFePick &#x3D; p.pick;
        
        } else if(p.tpe &#x3D;&#x3D;&#x3D; &#x27;4SD&#x27; &amp;&amp; p.fgFarEast &#x3D;&#x3D;&#x3D; &#x27;S&#x27;) {

          d.ca4SdFe &#x3D; p.qty;
          d.ca4SdFePick &#x3D; p.pick;


        } else if(p.tpe &#x3D;&#x3D;&#x3D; &#x27;4SD&#x27; &amp;&amp; p.fgFarEast &#x3D;&#x3D;&#x3D; &#x27;N&#x27;) {

          d.ca4SdNoFe &#x3D; p.qty;
          d.ca4SdNoFePick &#x3D; p.pick;
        
        } else if(p.tpe &#x3D;&#x3D;&#x3D; &#x27;4SH&#x27; &amp;&amp; p.fgFarEast &#x3D;&#x3D;&#x3D; &#x27;S&#x27;) {

          d.ca4ShFe &#x3D; p.qty;
          d.ca4ShFePick &#x3D; p.pick;

        } else if(p.tpe &#x3D;&#x3D;&#x3D; &#x27;4SH&#x27; &amp;&amp; p.fgFarEast &#x3D;&#x3D;&#x3D; &#x27;N&#x27;) {

          d.ca4ShNoFe &#x3D; p.qty;
          d.ca4ShNoFePick &#x3D; p.pick;
        
        } else if(p.tpe &#x3D;&#x3D;&#x3D; &#x27;4RH&#x27; &amp;&amp; p.fgFarEast &#x3D;&#x3D;&#x3D; &#x27;S&#x27;) {

          d.ca4RhFe &#x3D; p.qty;
          d.ca4RhFePick &#x3D; p.pick;

        } else if(p.tpe &#x3D;&#x3D;&#x3D; &#x27;4RH&#x27; &amp;&amp; p.fgFarEast &#x3D;&#x3D;&#x3D; &#x27;N&#x27;) {

          d.ca4RhNoFe &#x3D; p.qty;
          d.ca4RhNoFePick &#x3D; p.pick;
        
        }

      });

    });

    proyeccion.detalles.sort((a, b) &#x3D;&gt; new Date(a.eta).getTime() - new Date(b.eta).getTime());

    proyeccion.to2SdFe &#x3D; 0;
    proyeccion.to2SdNoFe &#x3D; 0;
    proyeccion.to4SdNoFe &#x3D; 0;
    proyeccion.to4SdFe &#x3D; 0;
    proyeccion.to4ShNoFe &#x3D; 0;
    proyeccion.to4ShFe &#x3D; 0;
    proyeccion.to4RhNoFe &#x3D; 0;
    proyeccion.to4RhFe &#x3D; 0;
    proyeccion.to2SdNoFePick &#x3D; 0;
    proyeccion.to2SdFePick &#x3D; 0;
    proyeccion.to4SdNoFePick &#x3D; 0;
    proyeccion.to4SdFePick &#x3D; 0;
    proyeccion.to4ShNoFePick &#x3D; 0;
    proyeccion.to4ShFePick &#x3D; 0;
    proyeccion.to4RhNoFePick &#x3D; 0;
    proyeccion.to4RhFePick &#x3D; 0;
        
    proyeccion.detalles.forEach(d &#x3D;&gt; {
        
      proyeccion.to2SdFe &#x3D; proyeccion.to2SdFe + d.ca2SdFe;
      proyeccion.to2SdNoFe &#x3D; proyeccion.to2SdNoFe + d.ca2SdNoFe;
      proyeccion.to4SdFe &#x3D; proyeccion.to4SdFe + d.ca4SdFe;
      proyeccion.to4SdNoFe &#x3D; proyeccion.to4SdNoFe + d.ca4SdNoFe;
      proyeccion.to4ShFe &#x3D; proyeccion.to4ShFe + d.ca4ShFe;
      proyeccion.to4ShNoFe &#x3D; proyeccion.to4ShNoFe + d.ca4ShNoFe;
      proyeccion.to4RhFe &#x3D; proyeccion.to4RhFe + d.ca4RhFe;
      proyeccion.to4RhNoFe &#x3D; proyeccion.to4RhNoFe + d.ca4RhNoFe;
          
      proyeccion.to2SdFePick &#x3D; proyeccion.to2SdFePick + d.ca2SdFePick;
      proyeccion.to2SdNoFePick &#x3D; proyeccion.to2SdNoFePick + d.ca2SdNoFePick;
      proyeccion.to4SdFePick &#x3D; proyeccion.to4SdFePick + d.ca4SdFePick;
      proyeccion.to4SdNoFePick &#x3D; proyeccion.to4SdNoFePick + d.ca4SdNoFePick;
      proyeccion.to4ShFePick &#x3D; proyeccion.to4ShFePick + d.ca4ShFePick;
      proyeccion.to4ShNoFePick &#x3D; proyeccion.to4ShNoFePick + d.ca4ShNoFePick;
      proyeccion.to4RhFePick &#x3D; proyeccion.to4RhFePick + d.ca4RhFePick;
      proyeccion.to4RhNoFePick &#x3D; proyeccion.to4RhNoFePick + d.ca4RhNoFePick;
        
    });
        
    proyeccion.to2SdBook &#x3D; proyeccion.to2SdFe + proyeccion.to2SdNoFe;
    proyeccion.to4SdBook &#x3D; proyeccion.to4SdFe + proyeccion.to4SdNoFe;
    proyeccion.to4ShBook &#x3D; proyeccion.to4ShFe + proyeccion.to4ShNoFe;
    proyeccion.to4RhBook &#x3D; proyeccion.to4RhFe + proyeccion.to4RhNoFe;
        
    proyeccion.to2SdPick &#x3D; proyeccion.to2SdFePick + proyeccion.to2SdNoFePick;
    proyeccion.to4SdPick &#x3D; proyeccion.to4SdFePick + proyeccion.to4SdNoFePick;
    proyeccion.to4ShPick &#x3D; proyeccion.to4ShFePick + proyeccion.to4ShNoFePick;
    proyeccion.to4RhPick &#x3D; proyeccion.to4RhFePick + proyeccion.to4RhNoFePick;

    return proyeccion;

  }

  /**
   * Calcula el retorno vacío para la proyección de equipos.
   * - Obtiene los días hábiles para el cálculo.
   * - Obtiene el último ETA de la proyección de equipos.
   * - Obtiene el calendario desde la BD.
   * - Calcula los valores a partir de los ratios de devolución.
   * @param fechaIni Fecha de inicio para obtener el calendario.
   * @param fechaFin Fecha final para obtener el calendario.
   */
  calculaRetornoVacio(fechaIni: Date, fechaFin: Date) {

    // 6 DIAS A LA SEMANA (SIN DOMINGO) POR 4 SEMANAS (MES)
    const DIAS_HABILES &#x3D; 24;
    this.proyeccionEquipo.ratioDevolucion.nroDiasHabilesMes &#x3D; DIAS_HABILES;

    let lastEta &#x3D; new Date(this.proyeccionEquipo.detalles[this.proyeccionEquipo.detalles.length-1].eta.getTime());
    this.proyeccionEquipo.ratioDevolucion.fechaRatioStr &#x3D; this.datepipe.transform(lastEta.setDate(lastEta.getDate() - 7), &#x27;MMM dd&#x27;);

    this.calendarioService.getCalendario(this.token, this.urls, this.datepipe.transform(fechaIni, &#x27;yyyy-MM-dd&#x27;), this.datepipe.transform(fechaFin, &#x27;yyyy-MM-dd&#x27;))
      .subscribe((res2: any) &#x3D;&gt; {
  
        this.calendario &#x3D; res2.body.calendario;
  
        let nroDiasHoyARetorno &#x3D; this.calendario.filter(c &#x3D;&gt; c.fecha.getTime() &gt; this.today.getTime() &amp;&amp; c.fecha.getTime() &lt;&#x3D; lastEta &amp;&amp; c.fgFeriado &#x3D;&#x3D;&#x3D; &#x27;N&#x27;).length;
        this.proyeccionEquipo.ratioDevolucion.nroDiasHoyARetorno &#x3D; nroDiasHoyARetorno;
  
        this.proyeccionEquipo.ratioDevolucion.ra2Sd &#x3D; this.ratioDevolucion.ra2Sd;
        this.proyeccionEquipo.ratioDevolucion.ra4Sd &#x3D; this.ratioDevolucion.ra4Sd;
        this.proyeccionEquipo.ratioDevolucion.ra4Sh &#x3D; this.ratioDevolucion.ra4Sh;
  
        this.to2SdRatio &#x3D; Math.round((this.ratioDevolucion.ra2Sd/DIAS_HABILES)*this.proyeccionEquipo.ratioDevolucion.nroDiasHoyARetorno);
        this.to4SdRatio &#x3D; Math.round((this.ratioDevolucion.ra4Sd/DIAS_HABILES)*this.proyeccionEquipo.ratioDevolucion.nroDiasHoyARetorno);
        this.to4ShRatio &#x3D; Math.round((this.ratioDevolucion.ra4Sh/DIAS_HABILES)*this.proyeccionEquipo.ratioDevolucion.nroDiasHoyARetorno);
        
        this.actualizaTotales();
  
      });

  }

  /**
   * Lee el archivo txt cargado. Debe cumplir:
   * - Debe tener extensión txt.
   * - Debe ser del tipo MTC1R999, extraído del SOL
   * @param txt Archivo txt cargado a Gacela.
   * @returns El detalle del archivo cargado.
   */
  private leerTxt(txt: any) {
    
    let detalles: FileDetMTC1R999[] &#x3D; [];

    let lines &#x3D; txt.toString().split(&#x27;\n&#x27;);

    // REMUEVE LAS LINEAS sin valor (primeras y ultimas)
    lines &#x3D; lines.slice(10, lines.length - 2);

    let idItem &#x3D; 0;

    lines.forEach(line &#x3D;&gt; {

      let det &#x3D; new FileDetMTC1R999();
      let posActual &#x3D; 0;

      let t_depot &#x3D; 6;
      let t_vsl_voy_s &#x3D; 18;
      let t_booking_no &#x3D; 16;
      let t_rvs &#x3D; 3;
      let t_qty &#x3D; 3;
      let t_pick &#x3D; 4;
      let t_balance &#x3D; 7;
      let t_mode &#x3D; 4;
      let t_mta &#x3D; 3;
      let t_tpe &#x3D; 3;
      let t_rct &#x3D; 5;
      let t_pol &#x3D; 5;
      let t_pod &#x3D; 5;
      let t_dly &#x3D; 5;
      let t_release &#x3D; 8;
      let t_cut_off &#x3D; 8;
      let t_dry_use &#x3D; 7;
      let t_pre_cool &#x3D; 8;
      let t_temp &#x3D; 8;
      let t_vent &#x3D; 4;
      let t_commodity &#x3D; 40;
      let t_special_handling &#x3D; 40;
      let t_customer_ac &#x3D; 12;
      let t_customer_name &#x3D; 40;
      let t_remark &#x3D; 20;

      idItem &#x3D; idItem + 1;

      det.idItem &#x3D; idItem;
      det.depot &#x3D; line.substr(posActual, t_depot).trim();
      posActual &#x3D; posActual + t_depot + 1;
      det.vsl_voy_s &#x3D; line.substr(posActual, t_vsl_voy_s).trim();
      posActual &#x3D; posActual + t_vsl_voy_s + 1;
      det.booking_no &#x3D; line.substr(posActual, t_booking_no).trim();
      posActual &#x3D; posActual + t_booking_no + 1;
      det.rvs &#x3D; line.substr(posActual, t_rvs).trim();
      posActual &#x3D; posActual + t_rvs + 1;
      det.qty &#x3D; Number(line.substr(posActual, t_qty).trim());
      posActual &#x3D; posActual + t_qty + 1;
      det.pick &#x3D; Number(line.substr(posActual, t_pick).trim());
      posActual &#x3D; posActual + t_pick + 1;
      det.balance &#x3D; Number(line.substr(posActual , t_balance).trim());
      posActual &#x3D; posActual + t_balance + 1;
      det.mode &#x3D; line.substr(posActual , t_mode).trim();
      posActual &#x3D; posActual + t_mode + 1;
      det.mta &#x3D; line.substr(posActual , t_mta).trim();
      posActual &#x3D; posActual + t_mta + 1;
      det.tpe &#x3D; line.substr(posActual , t_tpe).trim();
      posActual &#x3D; posActual + t_tpe + 1;
      det.rct &#x3D; line.substr(posActual , t_rct).trim();
      posActual &#x3D; posActual + t_rct + 1;
      det.pol &#x3D; line.substr(posActual , t_pol).trim();
      posActual &#x3D; posActual + t_pol + 1;
      det.pod &#x3D; line.substr(posActual , t_pod).trim();
      posActual &#x3D; posActual + t_pod + 1;
      det.dly &#x3D; line.substr(posActual , t_dly).trim();
      posActual &#x3D; posActual + t_dly + 1;

      let release_aux &#x3D; line.substr(posActual , t_release).trim();
      det.release &#x3D; new Date(Number(release_aux.substr(0, 4)), Number(release_aux.substr(4, 2)) - 1, Number(release_aux.substr(6, 2)));
      posActual &#x3D; posActual + t_release + 1;
      
      let cut_off_aux &#x3D; line.substr(posActual , t_cut_off).trim();
      det.cut_off &#x3D; new Date(Number(cut_off_aux.substr(0, 4)), Number(cut_off_aux.substr(4, 2)) - 1, Number(cut_off_aux.substr(6, 2)));
      posActual &#x3D; posActual + t_cut_off + 1;
      
      det.dry_use &#x3D; line.substr(posActual , t_dry_use).trim();
      posActual &#x3D; posActual + t_dry_use + 1;
      det.pre_cool &#x3D; line.substr(posActual , t_pre_cool).trim();
      posActual &#x3D; posActual + t_pre_cool + 1;
      det.temp &#x3D; line.substr(posActual , t_temp).trim();
      posActual &#x3D; posActual + t_temp + 1;
      det.vent &#x3D; Number(line.substr(posActual , t_vent).trim());
      posActual &#x3D; posActual + t_vent + 1;
      det.commodity &#x3D; line.substr(posActual , t_commodity).trim();
      posActual &#x3D; posActual + t_commodity + 1;
      det.special_handling &#x3D; line.substr(posActual , t_special_handling).trim();
      posActual &#x3D; posActual + t_special_handling + 1;
      det.customer_ac &#x3D; line.substr(posActual , t_customer_ac).trim();
      posActual &#x3D; posActual + t_customer_ac + 1;
      det.customer_name &#x3D; line.substr(posActual , t_customer_name).trim();
      posActual &#x3D; posActual + t_customer_name + 1;
      det.remark &#x3D; line.substr(posActual , t_remark).trim();
      posActual &#x3D; posActual + t_remark + 1;


      det.nave &#x3D; det.vsl_voy_s.split(&#x27;/&#x27;)[0].trim();
      det.viaje &#x3D; det.vsl_voy_s.split(&#x27;/&#x27;)[1].trim();
 
      detalles.push(det);
      
    });

    return detalles;

  }

  /**
   * Obtiene el listado de naves que existen en el archivo pero no en la BD.
   * @param detalle Obtenido del archivo leido.
   * @param naves Lista de Naves obtenidas de la BD.
   * @returns Lista de naves no registradas en la BD.
   */
  private obtieneNavesNoRegistradas(detalle: Array&lt;FileDetMTC1R999&gt;, naves: Array&lt;Nave&gt;): any[] {
    
    let navesNoRegistradas: any[] &#x3D; [];

    for(let d of detalle) {

      if(naves.filter(n &#x3D;&gt; d.nave &#x3D;&#x3D;&#x3D; n.alNave).length &#x3D;&#x3D;&#x3D; 0) {

        navesNoRegistradas.push(d.nave);

      }
    }

    // ELIMINA DUPLICADOS
    navesNoRegistradas &#x3D; navesNoRegistradas.filter((valor, indiceActual, arreglo) &#x3D;&gt; arreglo.indexOf(valor) &#x3D;&#x3D;&#x3D; indiceActual);

    return navesNoRegistradas;

  }

  /**
   * Consulta y permite seleccionar una nave a partir del maestro de naves de la BD.
   * Llama una ventana dialog que muestra el maestro de naves.
   * @returns El código de la nave seleccionada.
   */
  async getNave() {

    const promesa &#x3D; await new Promise((resolve, reject) &#x3D;&gt; {

        const dialogRef &#x3D; this.dialog.open(DialogListarNavesComponent, {
          width: &#x27;1000px&#x27;,
          height: &#x27;800px&#x27;,
        });
      
        dialogRef.afterClosed().subscribe((alNave: string) &#x3D;&gt; {
                
          if(!alNave) {
    
            let error &#x3D; new Error(&#x27;No seleccionó ninguna nave...&#x27;);
            reject(error);
    
          }

          resolve(alNave);
    
        });
      });

    return promesa;
  }

  /**
   * Validación de los RPO en conjunto, valida a nivel de registro (3 montos al mismo tiempo):
   * - Valida que el ETA no sea mayor que 3 días.
   * - si los montos son negativos, el ETA debe ser igual a hoy.
   * @param index Índice para identificar el registro del RPO
   */
  validaRpo(index: number): string {

    let fecha &#x3D; this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].etaRpo.value;
    let ca2SdRpo &#x3D; Number(this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca2SdRpo.value);
    let ca4SdRpo &#x3D; Number(this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca4SdRpo.value);
    let ca4ShRpo &#x3D; Number(this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca4ShRpo.value);

    let etaRpo &#x3D; new Date(fecha.substr(0,4), fecha.substr(5,2) - 1, fecha.substr(8,2));


    if((this.today.getTime() - etaRpo.getTime())/1000/60/60/24 &gt;&#x3D; 3) {

      this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].fgActiRpo.setValue(&#x27;D&#x27;);

      this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca2SdRpo.setValue(0);
      this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca4SdRpo.setValue(0);
      this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca4ShRpo.setValue(0);

      this.actualizaTotales();

      return &#x27;D&#x27;;

    } else if(ca2SdRpo &lt;&#x3D; 0 &amp;&amp; ca4SdRpo &lt;&#x3D; 0 &amp;&amp; ca4ShRpo &lt;&#x3D; 0 &amp;&amp; (this.today.getTime() - etaRpo.getTime())/1000/60/60/24 &gt; 0) {

      this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].fgActiRpo.setValue(&#x27;D&#x27;);
      this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca2SdRpo.setValue(0);
      this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca4SdRpo.setValue(0);
      this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca4ShRpo.setValue(0);

      this.actualizaTotales();
      return &#x27;D&#x27;;

    } else {

      this.forma.controls[&#x27;rpoPlan&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].fgActiRpo.setValue(&#x27;A&#x27;);

      this.actualizaTotales();
      return &#x27;A&#x27;;

    }

  }

  /**
   * Validación del monto 2SD RPO de forma particular,
   * en caso de no cumplir con la condición, el monto lo iguala a 0.
   * @param index Índice para identificar el registro RPO
   */
  ca2SdRpoValido(index: number) {
    
    let ca2SdRpo &#x3D; Number(this.forma.controls[&#x27;rpo&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca2SdRpo.value);

    let fecha &#x3D; this.forma.controls[&#x27;rpo&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].etaRpo.value;
    let etaRpo &#x3D; new Date(fecha.substr(0,4), fecha.substr(5,2) - 1, fecha.substr(8,2));

    if(ca2SdRpo &lt; 0 &amp;&amp; (this.today.getTime() - etaRpo.getTime())/1000/60/60/24 &gt; 0) {

      this.forma.controls[&#x27;rpo&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca2SdRpo.setValue(0);

    }

    this.actualizaTotales();

  }

  /**
   * Validación del monto 4SD RPO de forma particular,
   * en caso de no cumplir con la condición, iguala el monto a 0.
   * @param index Índice para identificar el registro RPO.
   */
  ca4SdRpoValido(index: number) {
    
    let ca4SdRpo &#x3D; Number(this.forma.controls[&#x27;rpo&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca4SdRpo.value);

    let fecha &#x3D; this.forma.controls[&#x27;rpo&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].etaRpo.value;
    let etaRpo &#x3D; new Date(fecha.substr(0,4), fecha.substr(5,2) - 1, fecha.substr(8,2));

    if(ca4SdRpo &lt; 0 &amp;&amp; (this.today.getTime() - etaRpo.getTime())/1000/60/60/24 &gt; 0) {

      this.forma.controls[&#x27;rpo&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca4SdRpo.setValue(0);

    }

    this.actualizaTotales();

  }

  /**
   * Validación de 4SH RPO de forma particular,
   * en caso de no cumplir con la condición, iguala el monto a 0.
   * @param index Índice para identificar el registro RPO.
   */
  ca4ShRpoValido(index: number) {
    
    let ca4ShRpo &#x3D; Number(this.forma.controls[&#x27;rpo&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca4ShRpo.value);

    let fecha &#x3D; this.forma.controls[&#x27;rpo&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].etaRpo.value;
    let etaRpo &#x3D; new Date(fecha.substr(0,4), fecha.substr(5,2) - 1, fecha.substr(8,2));

    if(ca4ShRpo &lt; 0 &amp;&amp; (this.today.getTime() - etaRpo.getTime())/1000/60/60/24 &gt; 0) {

      this.forma.controls[&#x27;rpo&#x27;][&#x27;controls&#x27;][index][&#x27;controls&#x27;].ca4ShRpo.setValue(0);

    }

    this.actualizaTotales();

  }

  //#endregion UTILITARIOS

}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;m-5&quot;&gt;

    &lt;h1&gt;Proyecciones&lt;/h1&gt;
    &lt;hr&gt;

    &lt;form [formGroup]&#x3D;&quot;forma&quot;&gt;

        &lt;fieldset [disabled]&#x3D;&quot;cargando&quot;&gt;




            &lt;div class&#x3D;&quot;row m-3&quot;&gt;

                &lt;div class&#x3D;&quot;col-sm-4&quot;&gt;

                    &lt;div class&#x3D;&quot;row&quot;&gt;

                        &lt;div class&#x3D;&quot;col-sm-12&quot;&gt;

                            &lt;div class&#x3D;&quot;card border-secondary mb-3&quot; style&#x3D;&quot;max-width: 18rem;&quot;&gt;

                                &lt;div class&#x3D;&quot;card-header&quot;&gt;&lt;span&gt;&lt;i class&#x3D;&quot;fa fa-eye fa-fw&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;Tipo Proyección&lt;/span&gt;&lt;/div&gt;

                                &lt;div class&#x3D;&quot;card-body text-left&quot;&gt;

                                    &lt;div class&#x3D;&quot;custom-control custom-radio&quot;&gt;
                                        &lt;input type&#x3D;&quot;radio&quot; id&#x3D;&quot;DR&quot; name&#x3D;&quot;tipo&quot; class&#x3D;&quot;custom-control-input&quot; value&#x3D;&quot;DR&quot; formControlName&#x3D;&quot;tipo&quot;&gt;
                                        &lt;label class&#x3D;&quot;custom-control-label&quot; for&#x3D;&quot;DR&quot;&gt;DRY&lt;/label&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;custom-control custom-radio&quot;&gt;
                                        &lt;input type&#x3D;&quot;radio&quot; id&#x3D;&quot;RH&quot; name&#x3D;&quot;tipo&quot; class&#x3D;&quot;custom-control-input&quot; value&#x3D;&quot;RH&quot; formControlName&#x3D;&quot;tipo&quot;&gt;
                                        &lt;label class&#x3D;&quot;custom-control-label&quot; for&#x3D;&quot;RH&quot;&gt;RH&lt;/label&gt;
                                    &lt;/div&gt;

                                &lt;/div&gt;

                            &lt;/div&gt;

                        &lt;/div&gt;

                        &lt;div class&#x3D;&quot;col-sm-12&quot;&gt;

                            &lt;div class&#x3D;&quot;card border-secondary mb-3&quot; style&#x3D;&quot;max-width: 18rem;&quot; formGroupName&#x3D;&quot;ratioDevolucion&quot;&gt;

                                &lt;fieldset [disabled]&#x3D;&quot;today.getDay()!&#x3D;1&quot;&gt;

                                    &lt;div class&#x3D;&quot;card-header&quot;&gt;&lt;span&gt;&lt;i class&#x3D;&quot;fa fa-undo fa-fw&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;Ratio de Devolución Mensual&lt;/span&gt;&lt;/div&gt;

                                    &lt;div class&#x3D;&quot;card-body text-left&quot;&gt;


                                        &lt;div class&#x3D;&quot;row&quot;&gt;
                                            &lt;div class&#x3D;&quot; form-group col&quot;&gt;
                                                &lt;label class&#x3D;&quot;col-form-label-sm&quot;&gt;2SD&lt;/label&gt;
                                                &lt;input type&#x3D;&quot;number&quot; class&#x3D;&quot;form-control form-control-sm&quot; placeholder&#x3D;&quot;2SD&quot; formControlName&#x3D;&quot;ra2Sd&quot;&gt;
                                            &lt;/div&gt;
                                            &lt;div class&#x3D;&quot;form-group col&quot;&gt;
                                                &lt;label class&#x3D;&quot;col-form-label-sm&quot;&gt;4SD&lt;/label&gt;
                                                &lt;input type&#x3D;&quot;number&quot; class&#x3D;&quot;form-control form-control-sm&quot; placeholder&#x3D;&quot;4SD&quot; formControlName&#x3D;&quot;ra4Sd&quot;&gt;
                                            &lt;/div&gt;
                                            &lt;div class&#x3D;&quot;form-group col&quot;&gt;
                                                &lt;label class&#x3D;&quot;col-form-label-sm&quot;&gt;4SH&lt;/label&gt;
                                                &lt;input type&#x3D;&quot;number&quot; class&#x3D;&quot;form-control form-control-sm&quot; placeholder&#x3D;&quot;4SH&quot; formControlName&#x3D;&quot;ra4Sh&quot;&gt;
                                            &lt;/div&gt;
                                        &lt;/div&gt;

                                        &lt;div class&#x3D;&quot;row&quot;&gt;

                                            &lt;div class&#x3D;&quot;col-sm-12&quot;&gt;
                                                &lt;p class&#x3D;&quot;text-muted font-italic&quot;&gt;Ult. Actualización: {{ratioDevolucion.feModi | date: &#x27;dd/MM/yyyy&#x27;}}&lt;/p&gt;
                                            &lt;/div&gt;
                                            &lt;div class&#x3D;&quot;col-sm-12&quot;&gt;

                                                &lt;button class&#x3D;&quot;btn btn-outline-primary&quot; (click)&#x3D;&quot;guardarRatio()&quot;&gt;
                                                    &lt;i class&#x3D;&quot;fa fa-save&quot;&gt;&lt;/i&gt;
                                                &lt;/button&gt;

                                            &lt;/div&gt;

                                        &lt;/div&gt;

                                    &lt;/div&gt;

                                &lt;/fieldset&gt;

                            &lt;/div&gt;

                        &lt;/div&gt;

                    &lt;/div&gt;



                &lt;/div&gt;

                &lt;div class&#x3D;&quot;col-sm-4&quot;&gt;

                    &lt;div class&#x3D;&quot;card border-secondary mb-3&quot; style&#x3D;&quot;max-width: 18rem;&quot;&gt;
                        &lt;div class&#x3D;&quot;card-header&quot;&gt;&lt;span&gt;&lt;i class&#x3D;&quot;fa fa-file-text-o fa-fw&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;Archivo SOL&lt;/span&gt;&lt;/div&gt;
                        &lt;div *ngIf&#x3D;&quot;!fileCabMTC1R999&quot; class&#x3D;&quot;card-body text-danger&quot;&gt;
                            &lt;p&gt;&lt;i class&#x3D;&quot;fa fa-minus-circle fa-fw&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;Ningún archivo&lt;/p&gt;
                        &lt;/div&gt;
                        &lt;div *ngIf&#x3D;&quot;!cargandoFile&quot; class&#x3D;&quot;card-body&quot;&gt;

                            &lt;ul *ngIf&#x3D;&quot;fileCabMTC1R999&quot; class&#x3D;&quot;list-group list-group-flush text-secondary&quot;&gt;
                                &lt;li class&#x3D;&quot;list-group-item border-white&quot;&gt;File: {{fileCabMTC1R999.noFile}}&lt;/li&gt;
                                &lt;li class&#x3D;&quot;list-group-item border-white&quot;&gt;Cód. File: {{fileCabMTC1R999.coFile}}&lt;/li&gt;
                                &lt;li class&#x3D;&quot;list-group-item border-white&quot;&gt;Fecha: {{fileCabMTC1R999.feCargaFile | date: &#x27;dd/MM/yyyy&#x27;}}&lt;/li&gt;
                            &lt;/ul&gt;
                            &lt;div class&#x3D;&quot;text-right&quot;&gt;
                                &lt;label class&#x3D;&quot;fileSOL&quot; for&#x3D;&quot;fileSOL&quot;&gt;Cargar archivo&lt;/label&gt;
                                &lt;input type&#x3D;&quot;file&quot; id&#x3D;&quot;fileSOL&quot; (change)&#x3D;&quot;cargarFile($event.target.files)&quot; accept&#x3D;&quot;.txt&quot; hidden&gt;
                            &lt;/div&gt;

                            &lt;div *ngIf&#x3D;&quot;navesNoRegistradas.length &gt; 0&quot;&gt;
                                &lt;div class&#x3D;&quot;alert alert-warning&quot; role&#x3D;&quot;alert&quot;&gt;
                                    &lt;p class&#x3D;&quot;alert-heading&quot;&gt;&lt;i class&#x3D;&quot;fa fa-exclamation-triangle fa-fw&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;Naves no registradas&lt;/p&gt;
                                    &lt;ul class&#x3D;&quot;error&quot;&gt;
                                        &lt;li class&#x3D;&quot;text-sm&quot; *ngFor&#x3D;&quot;let nave of navesNoRegistradas; let i &#x3D; index&quot;&gt;
                                            &lt;span&gt;&lt;i class&#x3D;&quot;fa fa-square fa-fw&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;{{nave}}&lt;/span&gt;
                                            &lt;button class&#x3D;&quot;btn btn-link btn-sm&quot; (click)&#x3D;&quot;registraNave(i)&quot;&gt;Agregar&lt;/button&gt;
                                        &lt;/li&gt;
                                    &lt;/ul&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;

                        &lt;/div&gt;

                        &lt;div *ngIf&#x3D;&quot;cargandoFile&quot; class&#x3D;&quot;card-body text-center&quot;&gt;

                            &lt;i class&#x3D;&quot;fa fa-spinner fa-spin fa-5x&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;

                        &lt;/div&gt;

                    &lt;/div&gt;

                &lt;/div&gt;

                &lt;div class&#x3D;&quot;col-sm-4&quot;&gt;

                    &lt;div class&#x3D;&quot;card border-secondary mb-3&quot; style&#x3D;&quot;max-width: 18rem;&quot;&gt;
                        &lt;div class&#x3D;&quot;card-header&quot;&gt;&lt;span&gt;&lt;i class&#x3D;&quot;fa fa-line-chart fa-fw&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;Proyección venta&lt;/span&gt;&lt;/div&gt;
                        &lt;div *ngIf&#x3D;&quot;!proyVenta&quot; class&#x3D;&quot;card-body text-danger&quot;&gt;
                            &lt;p&gt;&lt;i class&#x3D;&quot;fa fa-minus-circle fa-fw&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;Ninguna proyección&lt;/p&gt;
                        &lt;/div&gt;
                        &lt;ul *ngIf&#x3D;&quot;proyVenta&quot; class&#x3D;&quot;list-group list-group-flush text-secondary&quot;&gt;
                            &lt;li class&#x3D;&quot;list-group-item border-white&quot;&gt;Tipo: {{proyVenta.tipo}}&lt;/li&gt;
                            &lt;li class&#x3D;&quot;list-group-item border-white&quot;&gt;Código: {{proyVenta.coProyeccion}}&lt;/li&gt;
                            &lt;li class&#x3D;&quot;list-group-item border-white&quot;&gt;Cód. File: {{proyVenta.coFile}}&lt;/li&gt;
                            &lt;li class&#x3D;&quot;list-group-item border-white&quot;&gt;Fecha: {{proyVenta.feProyeccion | date: &#x27;dd/MM/yyyy&#x27;}}&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;

                &lt;/div&gt;

            &lt;/div&gt;


            &lt;div class&#x3D;&quot;row m-3&quot;&gt;
                &lt;div class&#x3D;&quot;col-sm-6&quot;&gt;
                    &lt;button [disabled]&#x3D;&quot;cargandoFile&quot; class&#x3D;&quot;btn btn-outline-primary&quot; (click)&#x3D;&quot;generaProyeccionEquipos()&quot;&gt;Generar proyección&lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;





            &lt;div *ngIf&#x3D;&quot;generar&quot;&gt;

                &lt;div class&#x3D;&quot;row&quot;&gt;
                    &lt;label for&#x3D;&quot;codigo&quot; class&#x3D;&quot;col-sm-2 col-form-label&quot;&gt;Código&lt;/label&gt;
                    &lt;div class&#x3D;&quot;col-sm-4&quot;&gt;
                        &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;codigo&quot; class&#x3D;&quot;form-control&quot; formControlName&#x3D;&quot;coProyEquipo&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;

                &lt;div class&#x3D;&quot;row&quot;&gt;
                    &lt;div class&#x3D;&quot;col&quot;&gt;
                        &lt;ul class&#x3D;&quot;nav nav-tabs&quot;&gt;
                            &lt;li class&#x3D;&quot;nav-item&quot;&gt;
                                &lt;button class&#x3D;&quot;btn btn-link nav-link&quot; [ngClass]&#x3D;&quot;{active: linkReal}&quot; (click)&#x3D;&quot;linkReal &#x3D; true&quot;&gt;SOL&lt;/button&gt;
                            &lt;/li&gt;
                            &lt;li class&#x3D;&quot;nav-item&quot;&gt;
                                &lt;button class&#x3D;&quot;btn btn-link nav-link&quot; [ngClass]&#x3D;&quot;{active: !linkReal}&quot; (click)&#x3D;&quot;linkReal &#x3D; false&quot;&gt;Ventas&lt;/button&gt;
                            &lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                &lt;/div&gt;



                &lt;div class&#x3D;&quot;row&quot; *ngIf&#x3D;&quot;proyeccionEquipo&quot;&gt;


                    &lt;div *ngIf&#x3D;&quot;linkReal&quot;&gt;

                        &lt;div class&#x3D;&quot;col&quot;&gt;

                            &lt;table class&#x3D;&quot;table table-sm mt-3 mb-3&quot;&gt;

                                &lt;thead class&#x3D;&quot;detalle text-sm-center&quot;&gt;

                                    &lt;tr&gt;
                                        &lt;th colspan&#x3D;&quot;3&quot;&gt;&lt;/th&gt;
                                        &lt;th colspan&#x3D;&quot;4&quot; class&#x3D;&quot;bg-light&quot;&gt;2SD&lt;/th&gt;
                                        &lt;th colspan&#x3D;&quot;4&quot;&gt;4SD&lt;/th&gt;
                                        &lt;th colspan&#x3D;&quot;4&quot; class&#x3D;&quot;bg-light&quot;&gt;4SH&lt;/th&gt;
                                        &lt;th colspan&#x3D;&quot;2&quot;&gt;&lt;/th&gt;
                                    &lt;/tr&gt;

                                    &lt;tr&gt;
                                        &lt;th colspan&#x3D;&quot;3&quot;&gt;Stock&lt;/th&gt;
                                        &lt;td colspan&#x3D;&quot;4&quot; class&#x3D;&quot;form-group bg-light&quot;&gt;
                                            &lt;input type&#x3D;&quot;number&quot; class&#x3D;&quot;form-control&quot; formControlName&#x3D;&quot;stock2Sd&quot; (change)&#x3D;&quot;actualizaTotales()&quot;&gt;
                                        &lt;/td&gt;
                                        &lt;td colspan&#x3D;&quot;4&quot; class&#x3D;&quot;form-group&quot;&gt;
                                            &lt;input type&#x3D;&quot;number&quot; class&#x3D;&quot;form-control&quot; formControlName&#x3D;&quot;stock4Sd&quot; (change)&#x3D;&quot;actualizaTotales()&quot;&gt;
                                        &lt;/td&gt;
                                        &lt;td colspan&#x3D;&quot;4&quot; class&#x3D;&quot;form-group bg-light&quot;&gt;
                                            &lt;input type&#x3D;&quot;number&quot; class&#x3D;&quot;form-control&quot; formControlName&#x3D;&quot;stock4Sh&quot; (change)&#x3D;&quot;actualizaTotales()&quot;&gt;
                                        &lt;/td&gt;
                                        &lt;td colspan&#x3D;&quot;2&quot;&gt;&lt;/td&gt;
                                    &lt;/tr&gt;

                                    &lt;tr&gt;
                                        &lt;th class&#x3D;&quot;bg-light&quot; colspan&#x3D;&quot;2&quot;&gt;Nave&lt;/th&gt;
                                        &lt;th&gt;Viaje&lt;/th&gt;
                                        &lt;th class&#x3D;&quot;bg-light&quot;&gt;Non F.E.&lt;/th&gt;
                                        &lt;th class&#x3D;&quot;bg-light&quot;&gt;Picked Up&lt;/th&gt;
                                        &lt;th class&#x3D;&quot;bg-light&quot;&gt;F.E.&lt;/th&gt;
                                        &lt;th class&#x3D;&quot;bg-light&quot;&gt;Picked Up&lt;/th&gt;
                                        &lt;th&gt;Non F.E.&lt;/th&gt;
                                        &lt;th&gt;Picked Up&lt;/th&gt;
                                        &lt;th&gt;F.E.&lt;/th&gt;
                                        &lt;th&gt;Picked Up&lt;/th&gt;
                                        &lt;th class&#x3D;&quot;bg-light&quot;&gt;Non F.E.&lt;/th&gt;
                                        &lt;th class&#x3D;&quot;bg-light&quot;&gt;Picked Up&lt;/th&gt;
                                        &lt;th class&#x3D;&quot;bg-light&quot;&gt;F.E.&lt;/th&gt;
                                        &lt;th class&#x3D;&quot;bg-light&quot;&gt;Picked Up&lt;/th&gt;
                                        &lt;th colspan&#x3D;&quot;2&quot;&gt;ETA&lt;/th&gt;
                                    &lt;/tr&gt;


                                &lt;/thead&gt;

                                &lt;tbody class&#x3D;&quot;detalle table-borderless&quot;&gt;

                                    &lt;tr *ngFor&#x3D;&quot;let eq of proyeccionEquipo.detalles; let i &#x3D; index&quot;&gt;

                                        &lt;td class&#x3D;&quot;bg-light nave text-center&quot; colspan&#x3D;&quot;2&quot;&gt;{{eq.alNave}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;viaje&quot;&gt;{{eq.viaje}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{eq.ca2SdNoFe}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{eq.ca2SdNoFePick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{eq.ca2SdFe}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{eq.ca2SdFePick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor&quot;&gt;{{eq.ca4SdNoFe}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor&quot;&gt;{{eq.ca4SdNoFePick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor&quot;&gt;{{eq.ca4SdFe}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor&quot;&gt;{{eq.ca4SdFePick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{eq.ca4ShNoFe}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{eq.ca4ShNoFePick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{eq.ca4ShFe}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{eq.ca4ShFePick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;eta text-center&quot; colspan&#x3D;&quot;2&quot;&gt;{{eq.eta | date: &#x27;dd/MM/yyyy&#x27;}}&lt;/td&gt;

                                    &lt;/tr&gt;

                                &lt;/tbody&gt;


                                &lt;tbody class&#x3D;&quot;detalle&quot;&gt;

                                    &lt;tr&gt;

                                        &lt;th colspan&#x3D;&quot;3&quot; class&#x3D;&quot;text-center&quot;&gt;Suma&lt;/th&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyeccionEquipo.to2SdNoFe}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyeccionEquipo.to2SdNoFePick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyeccionEquipo.to2SdFe}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyeccionEquipo.to2SdFePick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor&quot;&gt;{{proyeccionEquipo.to4SdNoFe}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor&quot;&gt;{{proyeccionEquipo.to4SdNoFePick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor&quot;&gt;{{proyeccionEquipo.to4SdFe}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor&quot;&gt;{{proyeccionEquipo.to4SdFePick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyeccionEquipo.to4ShNoFe}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyeccionEquipo.to4ShNoFePick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyeccionEquipo.to4ShFe}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyeccionEquipo.to4ShFePick}}&lt;/td&gt;
                                        &lt;td colspan&#x3D;&quot;2&quot;&gt;&lt;/td&gt;

                                    &lt;/tr&gt;

                                    &lt;tr&gt;
                                        &lt;th colspan&#x3D;&quot;3&quot; class&#x3D;&quot;text-center&quot;&gt;TT Booking&lt;/th&gt;
                                        &lt;td class&#x3D;&quot;valor bg-light&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyeccionEquipo.to2SdBook}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyeccionEquipo.to4SdBook}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor bg-light&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyeccionEquipo.to4ShBook}}&lt;/td&gt;
                                        &lt;td colspan&#x3D;&quot;2&quot;&gt;&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;th colspan&#x3D;&quot;3&quot; class&#x3D;&quot;text-center&quot;&gt;TT Picked Up&lt;/th&gt;
                                        &lt;td class&#x3D;&quot;valor bg-light&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyeccionEquipo.to2SdPick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyeccionEquipo.to4SdPick}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor bg-light&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyeccionEquipo.to4ShPick}}&lt;/td&gt;
                                        &lt;td colspan&#x3D;&quot;2&quot;&gt;&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;th colspan&#x3D;&quot;3&quot; class&#x3D;&quot;text-center&quot;&gt;Empty return until {{this.proyeccionEquipo.ratioDevolucion.fechaRatioStr}}&lt;/th&gt;
                                        &lt;td class&#x3D;&quot;valor bg-light&quot; colspan&#x3D;&quot;4&quot;&gt;{{to2SdRatio}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor&quot; colspan&#x3D;&quot;4&quot;&gt;{{to4SdRatio}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor bg-light&quot; colspan&#x3D;&quot;4&quot;&gt;{{to4ShRatio}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;text-center badge-secondary&quot; colspan&#x3D;&quot;2&quot;&gt;{{this.proyeccionEquipo.ratioDevolucion.nroDiasHoyARetorno}}&lt;/td&gt;
                                    &lt;/tr&gt;

                                &lt;/tbody&gt;


                                &lt;tbody class&#x3D;&quot;detalle&quot; formArrayName&#x3D;&quot;rpoPlan&quot;&gt;

                                    &lt;tr&gt;
                                        &lt;th class&#x3D;&quot;text-center&quot; colspan&#x3D;&quot;17&quot;&gt;RPO Plan&lt;/th&gt;
                                    &lt;/tr&gt;

                                    &lt;tr class&#x3D;&quot;text-center&quot;&gt;
                                        &lt;th colspan&#x3D;&quot;2&quot; class&#x3D;&quot;bg-light&quot;&gt;Nave&lt;/th&gt;
                                        &lt;th&gt;Viaje&lt;/th&gt;
                                        &lt;th colspan&#x3D;&quot;4&quot; class&#x3D;&quot;bg-light&quot;&gt;2SD&lt;/th&gt;
                                        &lt;th colspan&#x3D;&quot;4&quot;&gt;4SD&lt;/th&gt;
                                        &lt;th colspan&#x3D;&quot;4&quot; class&#x3D;&quot;bg-light&quot;&gt;4SH&lt;/th&gt;
                                        &lt;th&gt;ETA&lt;/th&gt;
                                        &lt;th&gt;&lt;/th&gt;
                                    &lt;/tr&gt;

                                    &lt;tr [formGroupName]&#x3D;&quot;i&quot; *ngFor&#x3D;&quot;let det of forma.get(&#x27;rpoPlan&#x27;)[&#x27;controls&#x27;]; let i &#x3D; index&quot; [ngClass]&#x3D;&quot;{&#x27;rpo-invalido&#x27;: validaRpo(i) &#x3D;&#x3D; &#x27;D&#x27;}&quot;&gt;
                                        &lt;td class&#x3D;&quot;bg-light&quot;&gt;
                                            &lt;button class&#x3D;&quot;btn btn-outline-info btn-sm&quot; (click)&#x3D;&quot;setNaveRPO(i)&quot;&gt;&lt;i class&#x3D;&quot;fa fa-pencil&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;&lt;/button&gt;
                                        &lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-light&quot;&gt;
                                            &lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot; formControlName&#x3D;&quot;alNaveRpo&quot;&gt;
                                        &lt;/td&gt;
                                        &lt;td&gt;
                                            &lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot; formControlName&#x3D;&quot;viajeRpo&quot; [ngClass]&#x3D;&quot;{&#x27;is-invalid&#x27;: forma.controls[&#x27;rpoPlan&#x27;].controls[i].controls[&#x27;viajeRpo&#x27;].invalid}&quot; appMayuscula style&#x3D;&quot;text-transform: uppercase;&quot;&gt;
                                        &lt;/td&gt;
                                        &lt;td colspan&#x3D;&quot;4&quot; class&#x3D;&quot;form-group bg-light&quot;&gt;
                                            &lt;input type&#x3D;&quot;number&quot; class&#x3D;&quot;form-control&quot; formControlName&#x3D;&quot;ca2SdRpo&quot; (change)&#x3D;&quot;ca2SdRpoValido(i)&quot;&gt;
                                        &lt;/td&gt;
                                        &lt;td colspan&#x3D;&quot;4&quot; class&#x3D;&quot;form-group&quot;&gt;
                                            &lt;input type&#x3D;&quot;number&quot; class&#x3D;&quot;form-control&quot; formControlName&#x3D;&quot;ca4SdRpo&quot; (change)&#x3D;&quot;ca4SdRpoValido(i)&quot;&gt;
                                        &lt;/td&gt;
                                        &lt;td colspan&#x3D;&quot;4&quot; class&#x3D;&quot;form-group bg-light&quot;&gt;
                                            &lt;input type&#x3D;&quot;number&quot; class&#x3D;&quot;form-control&quot; formControlName&#x3D;&quot;ca4ShRpo&quot; (change)&#x3D;&quot;ca4ShRpoValido(i)&quot;&gt;
                                        &lt;/td&gt;
                                        &lt;td&gt;
                                            &lt;input type&#x3D;&quot;date&quot; class&#x3D;&quot;form-control&quot; formControlName&#x3D;&quot;etaRpo&quot; (change)&#x3D;&quot;etaValido(i)&quot;&gt;
                                        &lt;/td&gt;
                                        &lt;td class&#x3D;&quot;form-group text-center&quot;&gt;
                                            &lt;button class&#x3D;&quot;btn btn-outline-danger btn-sm&quot; (click)&#x3D;&quot;delRPO(i)&quot;&gt;&lt;i class&#x3D;&quot;fa fa-trash&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;&lt;/button&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;

                                    &lt;tr&gt;
                                        &lt;td colspan&#x3D;&quot;17&quot;&gt;
                                            &lt;button class&#x3D;&quot;btn btn-outline-primary btn-sm&quot; (click)&#x3D;&quot;addRpo()&quot; [disabled]&#x3D;&quot;forma.controls.rpoPlan.invalid&quot;&gt;
                                                &lt;i class&#x3D;&quot;fa fa-plus fa-1x&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;
                                            &lt;/button&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;


                                &lt;tbody class&#x3D;&quot;detalle&quot;&gt;
                                    &lt;tr&gt;
                                        &lt;th colspan&#x3D;&quot;3&quot; class&#x3D;&quot;text-center&quot;&gt;Available&lt;/th&gt;
                                        &lt;td class&#x3D;&quot;valor bg-light&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyeccionEquipo.available2Sd}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyeccionEquipo.available4Sd}}&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;valor bg-light&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyeccionEquipo.available4Sh}}&lt;/td&gt;
                                        &lt;td colspan&#x3D;&quot;2&quot;&gt;&lt;/td&gt;
                                    &lt;/tr&gt;

                                &lt;/tbody&gt;

                            &lt;/table&gt;

                        &lt;/div&gt;

                    &lt;/div&gt;

                &lt;/div&gt;



                &lt;div class&#x3D;&quot;row&quot; *ngIf&#x3D;&quot;!linkReal&quot;&gt;
                    &lt;div class&#x3D;&quot;col&quot;&gt;

                        &lt;table class&#x3D;&quot;table table-sm mt-3 mb-3&quot;&gt;

                            &lt;thead class&#x3D;&quot;detalle text-sm-center&quot;&gt;

                                &lt;tr&gt;
                                    &lt;th colspan&#x3D;&quot;2&quot;&gt;&lt;/th&gt;
                                    &lt;th colspan&#x3D;&quot;4&quot; class&#x3D;&quot;bg-light&quot;&gt;2SD&lt;/th&gt;
                                    &lt;th colspan&#x3D;&quot;4&quot;&gt;4SD&lt;/th&gt;
                                    &lt;th colspan&#x3D;&quot;4&quot; class&#x3D;&quot;bg-light&quot;&gt;4SH&lt;/th&gt;
                                    &lt;th&gt;&lt;/th&gt;
                                &lt;/tr&gt;

                                &lt;tr&gt;
                                    &lt;th class&#x3D;&quot;bg-light&quot;&gt;Nave&lt;/th&gt;
                                    &lt;th&gt;Viaje&lt;/th&gt;
                                    &lt;th class&#x3D;&quot;bg-light&quot;&gt;Non F.E.&lt;/th&gt;
                                    &lt;th class&#x3D;&quot;bg-light&quot;&gt;Picked Up&lt;/th&gt;
                                    &lt;th class&#x3D;&quot;bg-light&quot;&gt;F.E.&lt;/th&gt;
                                    &lt;th class&#x3D;&quot;bg-light&quot;&gt;Picked Up&lt;/th&gt;
                                    &lt;th&gt;Non F.E.&lt;/th&gt;
                                    &lt;th&gt;Picked Up&lt;/th&gt;
                                    &lt;th&gt;F.E.&lt;/th&gt;
                                    &lt;th&gt;Picked Up&lt;/th&gt;
                                    &lt;th class&#x3D;&quot;bg-light&quot;&gt;Non F.E.&lt;/th&gt;
                                    &lt;th class&#x3D;&quot;bg-light&quot;&gt;Picked Up&lt;/th&gt;
                                    &lt;th class&#x3D;&quot;bg-light&quot;&gt;F.E.&lt;/th&gt;
                                    &lt;th class&#x3D;&quot;bg-light&quot;&gt;Picked Up&lt;/th&gt;
                                    &lt;th&gt;ETA&lt;/th&gt;
                                &lt;/tr&gt;


                            &lt;/thead&gt;

                            &lt;tbody class&#x3D;&quot;detalle table-borderless&quot;&gt;

                                &lt;tr *ngFor&#x3D;&quot;let venta of proyVenta.detalles; let i &#x3D; index&quot;&gt;

                                    &lt;td class&#x3D;&quot;bg-light nave text-center&quot;&gt;{{venta.alNave}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;viaje&quot;&gt;{{venta.viaje}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{venta.ca2SdNoFe}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{venta.ca2SdNoFePick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{venta.ca2SdFe}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{venta.ca2SdFePick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;valor&quot;&gt;{{venta.ca4SdNoFe}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;valor&quot;&gt;{{venta.ca4SdNoFePick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;valor&quot;&gt;{{venta.ca4SdFe}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;valor&quot;&gt;{{venta.ca4SdFePick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{venta.ca4ShNoFe}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{venta.ca4ShNoFePick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{venta.ca4ShFe}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{venta.ca4ShFePick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;eta&quot;&gt;{{venta.eta | date: &#x27;dd/MM/yyyy&#x27;}}&lt;/td&gt;

                                &lt;/tr&gt;

                            &lt;/tbody&gt;


                            &lt;tbody class&#x3D;&quot;detalle&quot;&gt;

                                &lt;tr&gt;

                                    &lt;th colspan&#x3D;&quot;2&quot; class&#x3D;&quot;text-center&quot;&gt;Suma&lt;/th&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyVenta.to2SdNoFe}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyVenta.to2SdNoFePick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyVenta.to2SdFe}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyVenta.to2SdFePick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;valor&quot;&gt;{{proyVenta.to4SdNoFe}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;valor&quot;&gt;{{proyVenta.to4SdNoFePick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;valor&quot;&gt;{{proyVenta.to4SdFe}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;valor&quot;&gt;{{proyVenta.to4SdFePick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyVenta.to4ShNoFe}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyVenta.to4ShNoFePick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyVenta.to4ShFe}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-light valor&quot;&gt;{{proyVenta.to4ShFePick}}&lt;/td&gt;

                                &lt;/tr&gt;

                                &lt;tr&gt;
                                    &lt;th colspan&#x3D;&quot;2&quot; class&#x3D;&quot;text-center&quot;&gt;TT Booking&lt;/th&gt;
                                    &lt;td class&#x3D;&quot;valor bg-light&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyVenta.to2SdBook}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;valor&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyVenta.to4SdBook}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;valor bg-light&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyVenta.to4ShBook}}&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;th colspan&#x3D;&quot;2&quot; class&#x3D;&quot;text-center&quot;&gt;TT Picked Up&lt;/th&gt;
                                    &lt;td class&#x3D;&quot;valor bg-light&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyVenta.to2SdPick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;valor&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyVenta.to4SdPick}}&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;valor bg-light&quot; colspan&#x3D;&quot;4&quot;&gt;{{proyVenta.to4ShPick}}&lt;/td&gt;
                                &lt;/tr&gt;

                            &lt;/tbody&gt;

                        &lt;/table&gt;


                    &lt;/div&gt;
                &lt;/div&gt;


                &lt;div class&#x3D;&quot;row m-3&quot;&gt;
                    &lt;div class&#x3D;&quot;col-sm-6&quot;&gt;
                        &lt;button class&#x3D;&quot;btn btn-outline-primary&quot; [disabled]&#x3D;&quot;forma.invalid || forma.controls.rpoPlan.invalid&quot; (click)&#x3D;&quot;guardarProyeccion()&quot;&gt;
                            &lt;i [ngClass]&#x3D;&quot;{ &#x27;fa-spinner fa-pulse&#x27;: cargando }&quot; class&#x3D;&quot;fa fa-download fa-fw&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;
                            &lt;span *ngIf&#x3D;&quot;!cargando&quot;&gt;Exportar&lt;/span&gt;
                            &lt;span *ngIf&#x3D;&quot;cargando&quot;&gt;Cargando&lt;/span&gt;
                        &lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;


            &lt;/div&gt;

        &lt;/fieldset&gt;


    &lt;/form&gt;





&lt;/div&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./proyecciones.component.css</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">.fileSOL:hover,
.proVenta:hover {
    cursor: pointer;
    text-decoration: underline;
}

.delete {
    color: red;
}

.table .detalle {
    font-size: 10pt !important;
}

.table input {
    font-size: 10pt !important;
}

.valor {
    text-align: center;
}

.rpo {
    background-color: #F4F9F7;
}

.error {
    height: 100px;
    list-style: none;
    font-size: 10pt;
    overflow-y: auto;
}

.rpo-invalido input {
    background-color: #FFECEA;
    /* text-decoration: line-through; */
    color: red;
}


/* .viaje {
    width: 15%;
}

.valor {
    width: 13%;
}

.eta {
    width: 5%;
} */

.mat-radio-button~.mat-radio-button {
    margin-left: 16px;
}

.invalid {
    border-color: red;
    ;
}

@media (max-width: 800px) {
    div,
    input {
        font-size: 10pt;
    }
}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="m-5">    <h1>Proyecciones</h1>    <hr>    <form [formGroup]="forma">        <fieldset [disabled]="cargando">            <div class="row m-3">                <div class="col-sm-4">                    <div class="row">                        <div class="col-sm-12">                            <div class="card border-secondary mb-3" style="max-width: 18rem;">                                <div class="card-header"><span><i class="fa fa-eye fa-fw" aria-hidden="true"></i>Tipo Proyección</span></div>                                <div class="card-body text-left">                                    <div class="custom-control custom-radio">                                        <input type="radio" id="DR" name="tipo" class="custom-control-input" value="DR" formControlName="tipo">                                        <label class="custom-control-label" for="DR">DRY</label>                                    </div>                                    <div class="custom-control custom-radio">                                        <input type="radio" id="RH" name="tipo" class="custom-control-input" value="RH" formControlName="tipo">                                        <label class="custom-control-label" for="RH">RH</label>                                    </div>                                </div>                            </div>                        </div>                        <div class="col-sm-12">                            <div class="card border-secondary mb-3" style="max-width: 18rem;" formGroupName="ratioDevolucion">                                <fieldset [disabled]="today.getDay()!=1">                                    <div class="card-header"><span><i class="fa fa-undo fa-fw" aria-hidden="true"></i>Ratio de Devolución Mensual</span></div>                                    <div class="card-body text-left">                                        <div class="row">                                            <div class=" form-group col">                                                <label class="col-form-label-sm">2SD</label>                                                <input type="number" class="form-control form-control-sm" placeholder="2SD" formControlName="ra2Sd">                                            </div>                                            <div class="form-group col">                                                <label class="col-form-label-sm">4SD</label>                                                <input type="number" class="form-control form-control-sm" placeholder="4SD" formControlName="ra4Sd">                                            </div>                                            <div class="form-group col">                                                <label class="col-form-label-sm">4SH</label>                                                <input type="number" class="form-control form-control-sm" placeholder="4SH" formControlName="ra4Sh">                                            </div>                                        </div>                                        <div class="row">                                            <div class="col-sm-12">                                                <p class="text-muted font-italic">Ult. Actualización: {{ratioDevolucion.feModi | date: \'dd/MM/yyyy\'}}</p>                                            </div>                                            <div class="col-sm-12">                                                <button class="btn btn-outline-primary" (click)="guardarRatio()">                                                    <i class="fa fa-save"></i>                                                </button>                                            </div>                                        </div>                                    </div>                                </fieldset>                            </div>                        </div>                    </div>                </div>                <div class="col-sm-4">                    <div class="card border-secondary mb-3" style="max-width: 18rem;">                        <div class="card-header"><span><i class="fa fa-file-text-o fa-fw" aria-hidden="true"></i>Archivo SOL</span></div>                        <div *ngIf="!fileCabMTC1R999" class="card-body text-danger">                            <p><i class="fa fa-minus-circle fa-fw" aria-hidden="true"></i>Ningún archivo</p>                        </div>                        <div *ngIf="!cargandoFile" class="card-body">                            <ul *ngIf="fileCabMTC1R999" class="list-group list-group-flush text-secondary">                                <li class="list-group-item border-white">File: {{fileCabMTC1R999.noFile}}</li>                                <li class="list-group-item border-white">Cód. File: {{fileCabMTC1R999.coFile}}</li>                                <li class="list-group-item border-white">Fecha: {{fileCabMTC1R999.feCargaFile | date: \'dd/MM/yyyy\'}}</li>                            </ul>                            <div class="text-right">                                <label class="fileSOL" for="fileSOL">Cargar archivo</label>                                <input type="file" id="fileSOL" (change)="cargarFile($event.target.files)" accept=".txt" hidden>                            </div>                            <div *ngIf="navesNoRegistradas.length > 0">                                <div class="alert alert-warning" role="alert">                                    <p class="alert-heading"><i class="fa fa-exclamation-triangle fa-fw" aria-hidden="true"></i>Naves no registradas</p>                                    <ul class="error">                                        <li class="text-sm" *ngFor="let nave of navesNoRegistradas; let i = index">                                            <span><i class="fa fa-square fa-fw" aria-hidden="true"></i>{{nave}}</span>                                            <button class="btn btn-link btn-sm" (click)="registraNave(i)">Agregar</button>                                        </li>                                    </ul>                                </div>                            </div>                        </div>                        <div *ngIf="cargandoFile" class="card-body text-center">                            <i class="fa fa-spinner fa-spin fa-5x" aria-hidden="true"></i>                        </div>                    </div>                </div>                <div class="col-sm-4">                    <div class="card border-secondary mb-3" style="max-width: 18rem;">                        <div class="card-header"><span><i class="fa fa-line-chart fa-fw" aria-hidden="true"></i>Proyección venta</span></div>                        <div *ngIf="!proyVenta" class="card-body text-danger">                            <p><i class="fa fa-minus-circle fa-fw" aria-hidden="true"></i>Ninguna proyección</p>                        </div>                        <ul *ngIf="proyVenta" class="list-group list-group-flush text-secondary">                            <li class="list-group-item border-white">Tipo: {{proyVenta.tipo}}</li>                            <li class="list-group-item border-white">Código: {{proyVenta.coProyeccion}}</li>                            <li class="list-group-item border-white">Cód. File: {{proyVenta.coFile}}</li>                            <li class="list-group-item border-white">Fecha: {{proyVenta.feProyeccion | date: \'dd/MM/yyyy\'}}</li>                        </ul>                    </div>                </div>            </div>            <div class="row m-3">                <div class="col-sm-6">                    <button [disabled]="cargandoFile" class="btn btn-outline-primary" (click)="generaProyeccionEquipos()">Generar proyección</button>                </div>            </div>            <div *ngIf="generar">                <div class="row">                    <label for="codigo" class="col-sm-2 col-form-label">Código</label>                    <div class="col-sm-4">                        <input type="text" id="codigo" class="form-control" formControlName="coProyEquipo">                    </div>                </div>                <div class="row">                    <div class="col">                        <ul class="nav nav-tabs">                            <li class="nav-item">                                <button class="btn btn-link nav-link" [ngClass]="{active: linkReal}" (click)="linkReal = true">SOL</button>                            </li>                            <li class="nav-item">                                <button class="btn btn-link nav-link" [ngClass]="{active: !linkReal}" (click)="linkReal = false">Ventas</button>                            </li>                        </ul>                    </div>                </div>                <div class="row" *ngIf="proyeccionEquipo">                    <div *ngIf="linkReal">                        <div class="col">                            <table class="table table-sm mt-3 mb-3">                                <thead class="detalle text-sm-center">                                    <tr>                                        <th colspan="3"></th>                                        <th colspan="4" class="bg-light">2SD</th>                                        <th colspan="4">4SD</th>                                        <th colspan="4" class="bg-light">4SH</th>                                        <th colspan="2"></th>                                    </tr>                                    <tr>                                        <th colspan="3">Stock</th>                                        <td colspan="4" class="form-group bg-light">                                            <input type="number" class="form-control" formControlName="stock2Sd" (change)="actualizaTotales()">                                        </td>                                        <td colspan="4" class="form-group">                                            <input type="number" class="form-control" formControlName="stock4Sd" (change)="actualizaTotales()">                                        </td>                                        <td colspan="4" class="form-group bg-light">                                            <input type="number" class="form-control" formControlName="stock4Sh" (change)="actualizaTotales()">                                        </td>                                        <td colspan="2"></td>                                    </tr>                                    <tr>                                        <th class="bg-light" colspan="2">Nave</th>                                        <th>Viaje</th>                                        <th class="bg-light">Non F.E.</th>                                        <th class="bg-light">Picked Up</th>                                        <th class="bg-light">F.E.</th>                                        <th class="bg-light">Picked Up</th>                                        <th>Non F.E.</th>                                        <th>Picked Up</th>                                        <th>F.E.</th>                                        <th>Picked Up</th>                                        <th class="bg-light">Non F.E.</th>                                        <th class="bg-light">Picked Up</th>                                        <th class="bg-light">F.E.</th>                                        <th class="bg-light">Picked Up</th>                                        <th colspan="2">ETA</th>                                    </tr>                                </thead>                                <tbody class="detalle table-borderless">                                    <tr *ngFor="let eq of proyeccionEquipo.detalles; let i = index">                                        <td class="bg-light nave text-center" colspan="2">{{eq.alNave}}</td>                                        <td class="viaje">{{eq.viaje}}</td>                                        <td class="bg-light valor">{{eq.ca2SdNoFe}}</td>                                        <td class="bg-light valor">{{eq.ca2SdNoFePick}}</td>                                        <td class="bg-light valor">{{eq.ca2SdFe}}</td>                                        <td class="bg-light valor">{{eq.ca2SdFePick}}</td>                                        <td class="valor">{{eq.ca4SdNoFe}}</td>                                        <td class="valor">{{eq.ca4SdNoFePick}}</td>                                        <td class="valor">{{eq.ca4SdFe}}</td>                                        <td class="valor">{{eq.ca4SdFePick}}</td>                                        <td class="bg-light valor">{{eq.ca4ShNoFe}}</td>                                        <td class="bg-light valor">{{eq.ca4ShNoFePick}}</td>                                        <td class="bg-light valor">{{eq.ca4ShFe}}</td>                                        <td class="bg-light valor">{{eq.ca4ShFePick}}</td>                                        <td class="eta text-center" colspan="2">{{eq.eta | date: \'dd/MM/yyyy\'}}</td>                                    </tr>                                </tbody>                                <tbody class="detalle">                                    <tr>                                        <th colspan="3" class="text-center">Suma</th>                                        <td class="bg-light valor">{{proyeccionEquipo.to2SdNoFe}}</td>                                        <td class="bg-light valor">{{proyeccionEquipo.to2SdNoFePick}}</td>                                        <td class="bg-light valor">{{proyeccionEquipo.to2SdFe}}</td>                                        <td class="bg-light valor">{{proyeccionEquipo.to2SdFePick}}</td>                                        <td class="valor">{{proyeccionEquipo.to4SdNoFe}}</td>                                        <td class="valor">{{proyeccionEquipo.to4SdNoFePick}}</td>                                        <td class="valor">{{proyeccionEquipo.to4SdFe}}</td>                                        <td class="valor">{{proyeccionEquipo.to4SdFePick}}</td>                                        <td class="bg-light valor">{{proyeccionEquipo.to4ShNoFe}}</td>                                        <td class="bg-light valor">{{proyeccionEquipo.to4ShNoFePick}}</td>                                        <td class="bg-light valor">{{proyeccionEquipo.to4ShFe}}</td>                                        <td class="bg-light valor">{{proyeccionEquipo.to4ShFePick}}</td>                                        <td colspan="2"></td>                                    </tr>                                    <tr>                                        <th colspan="3" class="text-center">TT Booking</th>                                        <td class="valor bg-light" colspan="4">{{proyeccionEquipo.to2SdBook}}</td>                                        <td class="valor" colspan="4">{{proyeccionEquipo.to4SdBook}}</td>                                        <td class="valor bg-light" colspan="4">{{proyeccionEquipo.to4ShBook}}</td>                                        <td colspan="2"></td>                                    </tr>                                    <tr>                                        <th colspan="3" class="text-center">TT Picked Up</th>                                        <td class="valor bg-light" colspan="4">{{proyeccionEquipo.to2SdPick}}</td>                                        <td class="valor" colspan="4">{{proyeccionEquipo.to4SdPick}}</td>                                        <td class="valor bg-light" colspan="4">{{proyeccionEquipo.to4ShPick}}</td>                                        <td colspan="2"></td>                                    </tr>                                    <tr>                                        <th colspan="3" class="text-center">Empty return until {{this.proyeccionEquipo.ratioDevolucion.fechaRatioStr}}</th>                                        <td class="valor bg-light" colspan="4">{{to2SdRatio}}</td>                                        <td class="valor" colspan="4">{{to4SdRatio}}</td>                                        <td class="valor bg-light" colspan="4">{{to4ShRatio}}</td>                                        <td class="text-center badge-secondary" colspan="2">{{this.proyeccionEquipo.ratioDevolucion.nroDiasHoyARetorno}}</td>                                    </tr>                                </tbody>                                <tbody class="detalle" formArrayName="rpoPlan">                                    <tr>                                        <th class="text-center" colspan="17">RPO Plan</th>                                    </tr>                                    <tr class="text-center">                                        <th colspan="2" class="bg-light">Nave</th>                                        <th>Viaje</th>                                        <th colspan="4" class="bg-light">2SD</th>                                        <th colspan="4">4SD</th>                                        <th colspan="4" class="bg-light">4SH</th>                                        <th>ETA</th>                                        <th></th>                                    </tr>                                    <tr [formGroupName]="i" *ngFor="let det of forma.get(\'rpoPlan\')[\'controls\']; let i = index" [ngClass]="{\'rpo-invalido\': validaRpo(i) == \'D\'}">                                        <td class="bg-light">                                            <button class="btn btn-outline-info btn-sm" (click)="setNaveRPO(i)"><i class="fa fa-pencil" aria-hidden="true"></i></button>                                        </td>                                        <td class="bg-light">                                            <input type="text" class="form-control" formControlName="alNaveRpo">                                        </td>                                        <td>                                            <input type="text" class="form-control" formControlName="viajeRpo" [ngClass]="{\'is-invalid\': forma.controls[\'rpoPlan\'].controls[i].controls[\'viajeRpo\'].invalid}" appMayuscula style="text-transform: uppercase;">                                        </td>                                        <td colspan="4" class="form-group bg-light">                                            <input type="number" class="form-control" formControlName="ca2SdRpo" (change)="ca2SdRpoValido(i)">                                        </td>                                        <td colspan="4" class="form-group">                                            <input type="number" class="form-control" formControlName="ca4SdRpo" (change)="ca4SdRpoValido(i)">                                        </td>                                        <td colspan="4" class="form-group bg-light">                                            <input type="number" class="form-control" formControlName="ca4ShRpo" (change)="ca4ShRpoValido(i)">                                        </td>                                        <td>                                            <input type="date" class="form-control" formControlName="etaRpo" (change)="etaValido(i)">                                        </td>                                        <td class="form-group text-center">                                            <button class="btn btn-outline-danger btn-sm" (click)="delRPO(i)"><i class="fa fa-trash" aria-hidden="true"></i></button>                                        </td>                                    </tr>                                    <tr>                                        <td colspan="17">                                            <button class="btn btn-outline-primary btn-sm" (click)="addRpo()" [disabled]="forma.controls.rpoPlan.invalid">                                                <i class="fa fa-plus fa-1x" aria-hidden="true"></i>                                            </button>                                        </td>                                    </tr>                                </tbody>                                <tbody class="detalle">                                    <tr>                                        <th colspan="3" class="text-center">Available</th>                                        <td class="valor bg-light" colspan="4">{{proyeccionEquipo.available2Sd}}</td>                                        <td class="valor" colspan="4">{{proyeccionEquipo.available4Sd}}</td>                                        <td class="valor bg-light" colspan="4">{{proyeccionEquipo.available4Sh}}</td>                                        <td colspan="2"></td>                                    </tr>                                </tbody>                            </table>                        </div>                    </div>                </div>                <div class="row" *ngIf="!linkReal">                    <div class="col">                        <table class="table table-sm mt-3 mb-3">                            <thead class="detalle text-sm-center">                                <tr>                                    <th colspan="2"></th>                                    <th colspan="4" class="bg-light">2SD</th>                                    <th colspan="4">4SD</th>                                    <th colspan="4" class="bg-light">4SH</th>                                    <th></th>                                </tr>                                <tr>                                    <th class="bg-light">Nave</th>                                    <th>Viaje</th>                                    <th class="bg-light">Non F.E.</th>                                    <th class="bg-light">Picked Up</th>                                    <th class="bg-light">F.E.</th>                                    <th class="bg-light">Picked Up</th>                                    <th>Non F.E.</th>                                    <th>Picked Up</th>                                    <th>F.E.</th>                                    <th>Picked Up</th>                                    <th class="bg-light">Non F.E.</th>                                    <th class="bg-light">Picked Up</th>                                    <th class="bg-light">F.E.</th>                                    <th class="bg-light">Picked Up</th>                                    <th>ETA</th>                                </tr>                            </thead>                            <tbody class="detalle table-borderless">                                <tr *ngFor="let venta of proyVenta.detalles; let i = index">                                    <td class="bg-light nave text-center">{{venta.alNave}}</td>                                    <td class="viaje">{{venta.viaje}}</td>                                    <td class="bg-light valor">{{venta.ca2SdNoFe}}</td>                                    <td class="bg-light valor">{{venta.ca2SdNoFePick}}</td>                                    <td class="bg-light valor">{{venta.ca2SdFe}}</td>                                    <td class="bg-light valor">{{venta.ca2SdFePick}}</td>                                    <td class="valor">{{venta.ca4SdNoFe}}</td>                                    <td class="valor">{{venta.ca4SdNoFePick}}</td>                                    <td class="valor">{{venta.ca4SdFe}}</td>                                    <td class="valor">{{venta.ca4SdFePick}}</td>                                    <td class="bg-light valor">{{venta.ca4ShNoFe}}</td>                                    <td class="bg-light valor">{{venta.ca4ShNoFePick}}</td>                                    <td class="bg-light valor">{{venta.ca4ShFe}}</td>                                    <td class="bg-light valor">{{venta.ca4ShFePick}}</td>                                    <td class="eta">{{venta.eta | date: \'dd/MM/yyyy\'}}</td>                                </tr>                            </tbody>                            <tbody class="detalle">                                <tr>                                    <th colspan="2" class="text-center">Suma</th>                                    <td class="bg-light valor">{{proyVenta.to2SdNoFe}}</td>                                    <td class="bg-light valor">{{proyVenta.to2SdNoFePick}}</td>                                    <td class="bg-light valor">{{proyVenta.to2SdFe}}</td>                                    <td class="bg-light valor">{{proyVenta.to2SdFePick}}</td>                                    <td class="valor">{{proyVenta.to4SdNoFe}}</td>                                    <td class="valor">{{proyVenta.to4SdNoFePick}}</td>                                    <td class="valor">{{proyVenta.to4SdFe}}</td>                                    <td class="valor">{{proyVenta.to4SdFePick}}</td>                                    <td class="bg-light valor">{{proyVenta.to4ShNoFe}}</td>                                    <td class="bg-light valor">{{proyVenta.to4ShNoFePick}}</td>                                    <td class="bg-light valor">{{proyVenta.to4ShFe}}</td>                                    <td class="bg-light valor">{{proyVenta.to4ShFePick}}</td>                                </tr>                                <tr>                                    <th colspan="2" class="text-center">TT Booking</th>                                    <td class="valor bg-light" colspan="4">{{proyVenta.to2SdBook}}</td>                                    <td class="valor" colspan="4">{{proyVenta.to4SdBook}}</td>                                    <td class="valor bg-light" colspan="4">{{proyVenta.to4ShBook}}</td>                                </tr>                                <tr>                                    <th colspan="2" class="text-center">TT Picked Up</th>                                    <td class="valor bg-light" colspan="4">{{proyVenta.to2SdPick}}</td>                                    <td class="valor" colspan="4">{{proyVenta.to4SdPick}}</td>                                    <td class="valor bg-light" colspan="4">{{proyVenta.to4ShPick}}</td>                                </tr>                            </tbody>                        </table>                    </div>                </div>                <div class="row m-3">                    <div class="col-sm-6">                        <button class="btn btn-outline-primary" [disabled]="forma.invalid || forma.controls.rpoPlan.invalid" (click)="guardarProyeccion()">                            <i [ngClass]="{ \'fa-spinner fa-pulse\': cargando }" class="fa fa-download fa-fw" aria-hidden="true"></i>                            <span *ngIf="!cargando">Exportar</span>                            <span *ngIf="cargando">Cargando</span>                        </button>                    </div>                </div>            </div>        </fieldset>    </form></div></div>'
    var COMPONENTS = [{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'BuscarProyventasolDialogComponent', 'selector': 'app-buscar-proyventasol-dialog'},{'name': 'CalendarioComponent', 'selector': 'app-calendario'},{'name': 'DetproyventasComponent', 'selector': 'app-detproyventas'},{'name': 'DialogListarNavesComponent', 'selector': 'app-dialog-listar-naves'},{'name': 'DialogRegistrarNavesComponent', 'selector': 'app-dialog-registrar-naves'},{'name': 'ForecastComponent', 'selector': 'app-forecast'},{'name': 'GatesComponent', 'selector': 'app-gates'},{'name': 'HomeComponent', 'selector': 'app-home'},{'name': 'ImagenUsuarioComponent', 'selector': 'app-imagen-usuario'},{'name': 'LoginPageComponent', 'selector': 'app-login-page'},{'name': 'NavBarComponent', 'selector': 'app-nav-bar'},{'name': 'NavesComponent', 'selector': 'app-naves'},{'name': 'NotFoundPageComponent', 'selector': 'app-not-found-page'},{'name': 'OutstandingComponent', 'selector': 'app-outstanding'},{'name': 'PasswordComponent', 'selector': 'app-password'},{'name': 'PerfilComponent', 'selector': 'app-perfil'},{'name': 'ProyeccionesComponent', 'selector': 'app-proyecciones'},{'name': 'ProyventasComponent', 'selector': 'app-proyventas'},{'name': 'RegistroNavesComponent', 'selector': 'app-registro-naves'},{'name': 'Rep6040Component', 'selector': 'app-rep6040'},{'name': 'RetirosComponent', 'selector': 'app-retiros'},{'name': 'SideBarComponent', 'selector': 'app-side-bar'},{'name': 'StatusBarComponent', 'selector': 'app-status-bar'},{'name': 'TransbordoComponent', 'selector': 'app-transbordo'},{'name': 'UsuarioComponent', 'selector': 'app-usuario'},{'name': 'WelcomePageComponent', 'selector': 'app-welcome-page'}];
    var DIRECTIVES = [{'name': 'MayusculaDirective', 'selector': '[appMayuscula]'}];
    var ACTUAL_COMPONENT = {'name': 'ProyeccionesComponent'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'ProyeccionesComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
